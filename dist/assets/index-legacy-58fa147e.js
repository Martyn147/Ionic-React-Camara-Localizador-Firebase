System.register([],(function(e,t){"use strict";return{execute:function(){var e=document.createElement("style");function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}e.textContent=":root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: #e74c3c;--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-toast-width: 320px;--toastify-toast-background: #fff;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient( to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55 );--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error)}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;padding:4px;width:var(--toastify-toast-width);box-sizing:border-box;color:#fff}.Toastify__toast-container--top-left{top:1em;left:1em}.Toastify__toast-container--top-center{top:1em;left:50%;transform:translate(-50%)}.Toastify__toast-container--top-right{top:1em;right:1em}.Toastify__toast-container--bottom-left{bottom:1em;left:1em}.Toastify__toast-container--bottom-center{bottom:1em;left:50%;transform:translate(-50%)}.Toastify__toast-container--bottom-right{bottom:1em;right:1em}@media only screen and (max-width : 480px){.Toastify__toast-container{width:100vw;padding:0;left:0;margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:0;transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:0;transform:translate(0)}.Toastify__toast-container--rtl{right:0;left:initial}}.Toastify__toast{position:relative;min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:8px;border-radius:4px;box-shadow:0 1px 10px rgba(0,0,0,.1),0 2px 15px rgba(0,0,0,.05);display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;max-height:var(--toastify-toast-max-height);overflow:hidden;font-family:var(--toastify-font-family);cursor:default;direction:ltr;z-index:0}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-body{margin:auto 0;-ms-flex:1 1 auto;flex:1 1 auto;padding:6px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.Toastify__toast-body>div:last-child{word-break:break-word;-ms-flex:1;flex:1}.Toastify__toast-icon{-webkit-margin-end:10px;margin-inline-end:10px;width:20px;-ms-flex-negative:0;flex-shrink:0;display:-ms-flexbox;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.7s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}@media only screen and (max-width : 480px){.Toastify__toast{margin-bottom:0;border-radius:0}}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;-ms-flex-item-align:start;align-self:flex-start}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:5px;z-index:var(--toastify-z-index);opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,0,0)}to{opacity:0;transform:translate3d(2000px,0,0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,0,0)}to{opacity:0;transform:translate3d(-2000px,0,0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,-10px,0)}40%,45%{opacity:1;transform:translate3d(0,20px,0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,10px,0)}40%,45%{opacity:1;transform:translate3d(0,-20px,0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:perspective(400px)}30%{transform:perspective(400px) rotateX(-20deg);opacity:1}to{transform:perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translateZ(0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translateZ(0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translateZ(0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translateZ(0)}}@keyframes Toastify__slideOutRight{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(110%,0,0)}}@keyframes Toastify__slideOutLeft{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(-110%,0,0)}}@keyframes Toastify__slideOutDown{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.photo-page{display:flex;flex-direction:column;align-items:center;padding:20px}.camera-container{width:100%;padding:20px;border:1px solid #ccc;border-radius:8px;margin-bottom:20px}.button-container{display:flex;flex-direction:column;align-items:center;margin-bottom:20px}.button{width:80%;max-width:300px;padding:10px 20px;margin-bottom:10px;border:none;border-radius:4px;background-color:#007bff;color:#fff;font-size:16px;cursor:pointer}.button:hover{background-color:#0056b3}.button:active{background-color:#003080}.location-container{display:flex;flex-direction:column;align-items:center}.label{font-size:16px;margin-bottom:10px}.location-container{display:flex;flex-direction:column;align-items:center;margin-top:20px}.location-container label{margin-bottom:10px;font-weight:700}.Toastify__toast-container{width:300px}.camera-container{max-width:400px;max-height:400px;display:flex;justify-content:center;align-items:center;height:100vh}.camera-preview{max-width:100%;height:auto;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,.3)}.button.disabled{opacity:.5;cursor:not-allowed}\n",document.head.appendChild(e);var n={exports:{}},r={},i={exports:{}},o={},s=Symbol.for("react.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator,y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function C(){}function k(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},C.prototype=w.prototype;var E=k.prototype=new C;E.constructor=k,v(E,w.prototype),E.isPureReactComponent=!0;var T=Array.isArray,S=Object.prototype.hasOwnProperty,x={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&!I.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:s,type:e,key:o,ref:a,props:i,_owner:x.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===s}var R=/\/+/g;function O(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function D(e,t,n,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case s:case a:l=!0}}if(l)return i=i(l=e),e=""===r?"."+O(l,0):r,T(i)?(n="",null!=e&&(n=e.replace(R,"$&/")+"/"),D(i,t,n,"",(function(e){return e}))):null!=i&&(P(i)&&(i=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(R,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=""===r?".":r+":",T(e))for(var u=0;u<e.length;u++){var c=r+O(o=e[u],u);l+=D(o,t,n,c,i)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=_&&e[_]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=D(o=o.value,t,n,c=r+O(o,u++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function L(e,t,n){if(null==e)return e;var r=[],i=0;return D(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},F={transition:null},U={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:F,ReactCurrentOwner:x};o.Children={map:L,forEach:function(e,t,n){L(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return L(e,(function(){t++})),t},toArray:function(e){return L(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},o.Component=w,o.Fragment=l,o.Profiler=c,o.PureComponent=k,o.StrictMode=u,o.Suspense=p,o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,o.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=v({},e.props),i=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=x.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!I.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:s,type:e.type,key:i,ref:o,props:r,_owner:a}},o.createContext=function(e){return(e={$$typeof:h,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:d,_context:e},e.Consumer=e},o.createElement=N,o.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},o.createRef=function(){return{current:null}},o.forwardRef=function(e){return{$$typeof:f,render:e}},o.isValidElement=P,o.lazy=function(e){return{$$typeof:g,_payload:{_status:-1,_result:e},_init:A}},o.memo=function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},o.startTransition=function(e){var t=F.transition;F.transition={};try{e()}finally{F.transition=t}},o.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},o.useCallback=function(e,t){return M.current.useCallback(e,t)},o.useContext=function(e){return M.current.useContext(e)},o.useDebugValue=function(){},o.useDeferredValue=function(e){return M.current.useDeferredValue(e)},o.useEffect=function(e,t){return M.current.useEffect(e,t)},o.useId=function(){return M.current.useId()},o.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},o.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},o.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},o.useMemo=function(e,t){return M.current.useMemo(e,t)},o.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},o.useRef=function(e){return M.current.useRef(e)},o.useState=function(e){return M.current.useState(e)},o.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},o.useTransition=function(){return M.current.useTransition()},o.version="18.2.0",i.exports=o;var z=i.exports;const B=t(z);
/**
             * @license React
             * react-jsx-runtime.production.min.js
             *
             * Copyright (c) Facebook, Inc. and its affiliates.
             *
             * This source code is licensed under the MIT license found in the
             * LICENSE file in the root directory of this source tree.
             */var q=z,j=Symbol.for("react.element"),$=Symbol.for("react.fragment"),W=Object.prototype.hasOwnProperty,H=q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,V={key:!0,ref:!0,__self:!0,__source:!0};function Q(e,t,n){var r,i={},o=null,s=null;for(r in void 0!==n&&(o=""+n),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(s=t.ref),t)W.call(t,r)&&!V.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:j,type:e,key:o,ref:s,props:i,_owner:H.current}}r.Fragment=$,r.jsx=Q,r.jsxs=Q,n.exports=r;var K=n.exports;const Y=K.jsx,G=K.jsxs;var X={exports:{}},J={},Z={exports:{}},ee={};
/**
             * @license React
             * scheduler.production.min.js
             *
             * Copyright (c) Facebook, Inc. and its affiliates.
             *
             * This source code is licensed under the MIT license found in the
             * LICENSE file in the root directory of this source tree.
             */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>i(l,n))u<o&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<o&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,_="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))break;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function b(e){if(m=!1,v(e),!p)if(null!==n(l))p=!0,O(w);else{var t=n(u);null!==t&&D(b,t.startTime-e)}}function w(t,i){p=!1,m&&(m=!1,_(T),T=-1),f=!0;var o=h;try{for(v(i),d=n(l);null!==d&&(!(d.expirationTime>i)||t&&!I());){var s=d.callback;if("function"==typeof s){d.callback=null,h=d.priorityLevel;var a=s(d.expirationTime<=i);i=e.unstable_now(),"function"==typeof a?d.callback=a:d===n(l)&&r(l),v(i)}else r(l);d=n(l)}if(null!==d)var c=!0;else{var g=n(u);null!==g&&D(b,g.startTime-i),c=!1}return c}finally{d=null,h=o,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,k=!1,E=null,T=-1,S=5,x=-1;function I(){return!(e.unstable_now()-x<S)}function N(){if(null!==E){var t=e.unstable_now();x=t;var n=!0;try{n=E(!0,t)}finally{n?C():(k=!1,E=null)}}else k=!1}if("function"==typeof y)C=function(){y(N)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=N,C=function(){R.postMessage(null)}}else C=function(){g(N,0)};function O(e){E=e,k||(k=!0,C())}function D(t,n){T=g((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,O(w))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,i,o){var s=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?s+o:s,r){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(r.sortIndex=o,t(u,r),null===n(l)&&r===n(u)&&(m?(_(T),T=-1):m=!0,D(b,o-s))):(r.sortIndex=a,t(l,r),p||f||(p=!0,O(w))),r},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(ee),Z.exports=ee;var te=Z.exports,ne=z,re=te;
/**
             * @license React
             * react-dom.production.min.js
             *
             * Copyright (c) Facebook, Inc. and its affiliates.
             *
             * This source code is licensed under the MIT license found in the
             * LICENSE file in the root directory of this source tree.
             */function ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oe=new Set,se={};function ae(e,t){le(e,t),le(e+"Capture",t)}function le(e,t){for(se[e]=t,e=0;e<t.length;e++)oe.add(t[e])}var ue=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),ce=Object.prototype.hasOwnProperty,de=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,he={},fe={};function pe(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){me[e]=new pe(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];me[t]=new pe(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){me[e]=new pe(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){me[e]=new pe(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){me[e]=new pe(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){me[e]=new pe(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){me[e]=new pe(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){me[e]=new pe(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){me[e]=new pe(e,5,!1,e.toLowerCase(),null,!1,!1)}));var ge=/[\-:]([a-z])/g;function _e(e){return e[1].toUpperCase()}function ye(e,t,n,r){var i=me.hasOwnProperty(t)?me[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!ce.call(fe,e)||!ce.call(he,e)&&(de.test(e)?fe[e]=!0:(he[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(ge,_e);me[t]=new pe(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(ge,_e);me[t]=new pe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(ge,_e);me[t]=new pe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){me[e]=new pe(e,1,!1,e.toLowerCase(),null,!1,!1)})),me.xlinkHref=new pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){me[e]=new pe(e,1,!1,e.toLowerCase(),null,!0,!0)}));var ve=ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,be=Symbol.for("react.element"),we=Symbol.for("react.portal"),Ce=Symbol.for("react.fragment"),ke=Symbol.for("react.strict_mode"),Ee=Symbol.for("react.profiler"),Te=Symbol.for("react.provider"),Se=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Oe=Symbol.for("react.offscreen"),De=Symbol.iterator;function Le(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=De&&e[De]||e["@@iterator"])?e:null}var Ae,Me=Object.assign;function Fe(e){if(void 0===Ae)try{throw Error()}catch(mh){var t=mh.stack.trim().match(/\n( *(at )?)/);Ae=t&&t[1]||""}return"\n"+Ae+e}var Ue=!1;function ze(e,t){if(!e||Ue)return"";Ue=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Ch){var r=Ch}Reflect.construct(e,[],t)}else{try{t.call()}catch(Ch){r=Ch}e.call(t.prototype)}else{try{throw Error()}catch(Ch){r=Ch}e()}}catch(Ch){if(Ch&&r&&"string"==typeof Ch.stack){for(var i=Ch.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{Ue=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fe(e):""}function Be(e){switch(e.tag){case 5:return Fe(e.type);case 16:return Fe("Lazy");case 13:return Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 2:case 15:return e=ze(e.type,!1);case 11:return e=ze(e.type.render,!1);case 1:return e=ze(e.type,!0);default:return""}}function qe(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Ce:return"Fragment";case we:return"Portal";case Ee:return"Profiler";case ke:return"StrictMode";case Ie:return"Suspense";case Ne:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Se:return(e.displayName||"Context")+".Consumer";case Te:return(e._context.displayName||"Context")+".Provider";case xe:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Pe:return null!==(t=e.displayName||null)?t:qe(e.type)||"Memo";case Re:t=e._payload,e=e._init;try{return qe(e(t))}catch(mh){}}return null}function je(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qe(t);case 8:return t===ke?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function $e(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function We(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function He(e){e._valueTracker||(e._valueTracker=function(e){var t=We(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ve(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=We(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Qe(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(Fk){return e.body}}function Ke(e,t){var n=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ye(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$e(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ge(e,t){null!=(t=t.checked)&&ye(e,"checked",t,!1)}function Xe(e,t){Ge(e,t);var n=$e(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ze(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ze(e,t.type,$e(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Je(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ze(e,t,n){"number"===t&&Qe(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var et=Array.isArray;function tt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$e(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function nt(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(ie(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rt(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(ie(92));if(et(n)){if(1<n.length)throw Error(ie(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$e(n)}}function it(e,t){var n=$e(t.value),r=$e(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ot(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function st(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?st(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var lt,ut,ct=(ut=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((lt=lt||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=lt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ut(e,t)}))}:ut);function dt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ht={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ft=["Webkit","ms","Moz","O"];function pt(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ht.hasOwnProperty(e)&&ht[e]?(""+t).trim():t+"px"}function mt(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pt(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ht).forEach((function(e){ft.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ht[t]=ht[e]}))}));var gt=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _t(e,t){if(t){if(gt[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(ie(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(ie(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(ie(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(ie(62))}}function yt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vt=null;function bt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var wt=null,Ct=null,kt=null;function Et(e){if(e=vo(e)){if("function"!=typeof wt)throw Error(ie(280));var t=e.stateNode;t&&(t=wo(t),wt(e.stateNode,e.type,t))}}function Tt(e){Ct?kt?kt.push(e):kt=[e]:Ct=e}function St(){if(Ct){var e=Ct,t=kt;if(kt=Ct=null,Et(e),t)for(e=0;e<t.length;e++)Et(t[e])}}function xt(e,t){return e(t)}function It(){}var Nt=!1;function Pt(e,t,n){if(Nt)return e(t,n);Nt=!0;try{return xt(e,t,n)}finally{Nt=!1,(null!==Ct||null!==kt)&&(It(),St())}}function Rt(e,t){var n=e.stateNode;if(null===n)return null;var r=wo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(ie(231,t,typeof n));return n}var Ot=!1;if(ue)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Ot=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch(ut){Ot=!1}function Lt(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(Nk){this.onError(Nk)}}var At=!1,Mt=null,Ft=!1,Ut=null,zt={onError:function(e){At=!0,Mt=e}};function Bt(e,t,n,r,i,o,s,a,l){At=!1,Mt=null,Lt.apply(zt,arguments)}function qt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function jt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function $t(e){if(qt(e)!==e)throw Error(ie(188))}function Wt(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=qt(e)))throw Error(ie(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $t(i),e;if(o===r)return $t(i),t;o=o.sibling}throw Error(ie(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(3!==n.tag)throw Error(ie(188));return n.stateNode.current===n?e:t}(e),null!==e?Ht(e):null}function Ht(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ht(e);if(null!==t)return t;e=e.sibling}return null}var Vt=re.unstable_scheduleCallback,Qt=re.unstable_cancelCallback,Kt=re.unstable_shouldYield,Yt=re.unstable_requestPaint,Gt=re.unstable_now,Xt=re.unstable_getCurrentPriorityLevel,Jt=re.unstable_ImmediatePriority,Zt=re.unstable_UserBlockingPriority,en=re.unstable_NormalPriority,tn=re.unstable_LowPriority,nn=re.unstable_IdlePriority,rn=null,on=null,sn=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(an(e)/ln|0)|0},an=Math.log,ln=Math.LN2,un=64,cn=4194304;function dn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hn(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dn(a):0!=(o&=s)&&(r=dn(o))}else 0!=(s=n&~i)?r=dn(s):0!==o&&(r=dn(o));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!=(4194240&o)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-sn(t)),r|=e[n],t&=~i;return r}function fn(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pn(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mn(){var e=un;return 0==(4194240&(un<<=1))&&(un=64),e}function gn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _n(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-sn(t)]=n}function yn(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-sn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var vn=0;function bn(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var wn,Cn,kn,En,Tn,Sn=!1,xn=[],In=null,Nn=null,Pn=null,Rn=new Map,On=new Map,Dn=[],Ln="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function An(e,t){switch(e){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":Rn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":On.delete(t.pointerId)}}function Mn(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=vo(t))&&Cn(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Fn(e){var t=yo(e.target);if(null!==t){var n=qt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=jt(n)))return e.blockedOn=t,void Tn(e.priority,(function(){kn(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Un(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vo(n))&&Cn(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);vt=r,n.target.dispatchEvent(r),vt=null,t.shift()}return!0}function zn(e,t,n){Un(e)&&n.delete(t)}function Bn(){Sn=!1,null!==In&&Un(In)&&(In=null),null!==Nn&&Un(Nn)&&(Nn=null),null!==Pn&&Un(Pn)&&(Pn=null),Rn.forEach(zn),On.forEach(zn)}function qn(e,t){e.blockedOn===t&&(e.blockedOn=null,Sn||(Sn=!0,re.unstable_scheduleCallback(re.unstable_NormalPriority,Bn)))}function jn(e){function t(t){return qn(t,e)}if(0<xn.length){qn(xn[0],e);for(var n=1;n<xn.length;n++){var r=xn[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==In&&qn(In,e),null!==Nn&&qn(Nn,e),null!==Pn&&qn(Pn,e),Rn.forEach(t),On.forEach(t),n=0;n<Dn.length;n++)(r=Dn[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dn.length&&null===(n=Dn[0]).blockedOn;)Fn(n),null===n.blockedOn&&Dn.shift()}var $n=ve.ReactCurrentBatchConfig,Wn=!0;function Hn(e,t,n,r){var i=vn,o=$n.transition;$n.transition=null;try{vn=1,Qn(e,t,n,r)}finally{vn=i,$n.transition=o}}function Vn(e,t,n,r){var i=vn,o=$n.transition;$n.transition=null;try{vn=4,Qn(e,t,n,r)}finally{vn=i,$n.transition=o}}function Qn(e,t,n,r){if(Wn){var i=Yn(e,t,n,r);if(null===i)$i(e,t,r,Kn,n),An(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return In=Mn(In,e,t,n,r,i),!0;case"dragenter":return Nn=Mn(Nn,e,t,n,r,i),!0;case"mouseover":return Pn=Mn(Pn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rn.set(o,Mn(Rn.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,On.set(o,Mn(On.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(An(e,r),4&t&&-1<Ln.indexOf(e)){for(;null!==i;){var o=vo(i);if(null!==o&&wn(o),null===(o=Yn(e,t,n,r))&&$i(e,t,r,Kn,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else $i(e,t,r,null,n)}}var Kn=null;function Yn(e,t,n,r){if(Kn=null,null!==(e=yo(e=bt(r))))if(null===(t=qt(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=jt(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kn=e,null}function Gn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xt()){case Jt:return 1;case Zt:return 4;case en:case tn:return 16;case nn:return 536870912;default:return 16}default:return 16}}var Xn=null,Jn=null,Zn=null;function er(){if(Zn)return Zn;var e,t,n=Jn,r=n.length,i="value"in Xn?Xn.value:Xn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zn=i.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nr(){return!0}function rr(){return!1}function ir(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nr:rr,this.isPropagationStopped=rr,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),t}var or,sr,ar,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ur=ir(lr),cr=Me({},lr,{view:0,detail:0}),dr=ir(cr),hr=Me({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ar&&(ar&&"mousemove"===e.type?(or=e.screenX-ar.screenX,sr=e.screenY-ar.screenY):sr=or=0,ar=e),or)},movementY:function(e){return"movementY"in e?e.movementY:sr}}),fr=ir(hr),pr=ir(Me({},hr,{dataTransfer:0})),mr=ir(Me({},cr,{relatedTarget:0})),gr=ir(Me({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),_r=Me({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=ir(_r),vr=ir(Me({},lr,{data:0})),br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cr[e])&&!!t[e]}function Er(){return kr}var Tr=Me({},cr,{key:function(e){if(e.key){var t=br[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sr=ir(Tr),xr=ir(Me({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ir=ir(Me({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er})),Nr=ir(Me({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pr=Me({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rr=ir(Pr),Or=[9,13,27,32],Dr=ue&&"CompositionEvent"in window,Lr=null;ue&&"documentMode"in document&&(Lr=document.documentMode);var Ar=ue&&"TextEvent"in window&&!Lr,Mr=ue&&(!Dr||Lr&&8<Lr&&11>=Lr),Fr=String.fromCharCode(32),Ur=!1;function zr(e,t){switch(e){case"keyup":return-1!==Or.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var qr=!1,jr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jr[e.type]:"textarea"===t}function Wr(e,t,n,r){Tt(r),0<(t=Hi(t,"onChange")).length&&(n=new ur("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hr=null,Vr=null;function Qr(e){Fi(e,0)}function Kr(e){if(Ve(bo(e)))return e}function Yr(e,t){if("change"===e)return t}var Gr=!1;if(ue){var Xr;if(ue){var Jr="oninput"in document;if(!Jr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Jr="function"==typeof Zr.oninput}Xr=Jr}else Xr=!1;Gr=Xr&&(!document.documentMode||9<document.documentMode)}function ei(){Hr&&(Hr.detachEvent("onpropertychange",ti),Vr=Hr=null)}function ti(e){if("value"===e.propertyName&&Kr(Vr)){var t=[];Wr(t,Vr,e,bt(e)),Pt(Qr,t)}}function ni(e,t,n){"focusin"===e?(ei(),Vr=n,(Hr=t).attachEvent("onpropertychange",ti)):"focusout"===e&&ei()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kr(Vr)}function ii(e,t){if("click"===e)return Kr(t)}function oi(e,t){if("input"===e||"change"===e)return Kr(t)}var si="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ai(e,t){if(si(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ce.call(t,i)||!si(e[i],t[i]))return!1}return!0}function li(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ui(e,t){var n,r=li(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=li(r)}}function ci(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ci(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function di(){for(var e=window,t=Qe();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(xk){n=!1}if(!n)break;t=Qe((e=t.contentWindow).document)}return t}function hi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fi(e){var t=di(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ci(n.ownerDocument.documentElement,n)){if(null!==r&&hi(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ui(n,o);var s=ui(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pi=ue&&"documentMode"in document&&11>=document.documentMode,mi=null,gi=null,_i=null,yi=!1;function vi(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yi||null==mi||mi!==Qe(r)||(r="selectionStart"in(r=mi)&&hi(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_i&&ai(_i,r)||(_i=r,0<(r=Hi(gi,"onSelect")).length&&(t=new ur("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mi)))}function bi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wi={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionend:bi("Transition","TransitionEnd")},Ci={},ki={};function Ei(e){if(Ci[e])return Ci[e];if(!wi[e])return e;var t,n=wi[e];for(t in n)if(n.hasOwnProperty(t)&&t in ki)return Ci[e]=n[t];return e}ue&&(ki=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);var Ti=Ei("animationend"),Si=Ei("animationiteration"),xi=Ei("animationstart"),Ii=Ei("transitionend"),Ni=new Map,Pi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(e,t){Ni.set(e,t),ae(t,[e])}for(var Oi=0;Oi<Pi.length;Oi++){var Di=Pi[Oi];Ri(Di.toLowerCase(),"on"+(Di[0].toUpperCase()+Di.slice(1)))}Ri(Ti,"onAnimationEnd"),Ri(Si,"onAnimationIteration"),Ri(xi,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(Ii,"onTransitionEnd"),le("onMouseEnter",["mouseout","mouseover"]),le("onMouseLeave",["mouseout","mouseover"]),le("onPointerEnter",["pointerout","pointerover"]),le("onPointerLeave",["pointerout","pointerover"]),ae("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ae("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ae("onBeforeInput",["compositionend","keypress","textInput","paste"]),ae("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ae("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ae("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ai=new Set("cancel close invalid load scroll toggle".split(" ").concat(Li));function Mi(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,a,l){if(Bt.apply(this,arguments),At){if(!At)throw Error(ie(198));var u=Mt;At=!1,Mt=null,Ft||(Ft=!0,Ut=u)}}(r,t,void 0,e),e.currentTarget=null}function Fi(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Mi(i,a,u),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Mi(i,a,u),o=l}}}if(Ft)throw e=Ut,Ft=!1,Ut=null,e}function Ui(e,t){var n=t[mo];void 0===n&&(n=t[mo]=new Set);var r=e+"__bubble";n.has(r)||(ji(t,e,2,!1),n.add(r))}function zi(e,t,n){var r=0;t&&(r|=4),ji(n,e,r,t)}var Bi="_reactListening"+Math.random().toString(36).slice(2);function qi(e){if(!e[Bi]){e[Bi]=!0,oe.forEach((function(t){"selectionchange"!==t&&(Ai.has(t)||zi(t,!1,e),zi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bi]||(t[Bi]=!0,zi("selectionchange",!1,t))}}function ji(e,t,n,r){switch(Gn(t)){case 1:var i=Hn;break;case 4:i=Vn;break;default:i=Qn}n=i.bind(null,t,n,e),i=void 0,!Ot||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $i(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yo(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Pt((function(){var r=o,i=bt(n),s=[];e:{var a=Ni.get(e);if(void 0!==a){var l=ur,u=e;switch(e){case"keypress":if(0===tr(n))break e;case"keydown":case"keyup":l=Sr;break;case"focusin":u="focus",l=mr;break;case"focusout":u="blur",l=mr;break;case"beforeblur":case"afterblur":l=mr;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ir;break;case Ti:case Si:case xi:l=gr;break;case Ii:l=Nr;break;case"scroll":l=dr;break;case"wheel":l=Rr;break;case"copy":case"cut":case"paste":l=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xr}var c=0!=(4&t),d=!c&&"scroll"===e,h=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&null!=(m=Rt(p,h))&&c.push(Wi(p,m,f))),d)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),s.push({event:a,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===vt||!(u=n.relatedTarget||n.fromElement)||!yo(u)&&!u[po])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yo(u):null)&&(u!==(d=qt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=fr,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=xr,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:bo(l),f=null==u?a:bo(u),(a=new c(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,yo(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Vi(f))p++;for(f=0,m=h;m;m=Vi(m))f++;for(;0<p-f;)c=Vi(c),p--;for(;0<f-p;)h=Vi(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Vi(c),h=Vi(h)}c=null}else c=null;null!==l&&Qi(s,a,l,c,!1),null!==u&&null!==d&&Qi(s,d,u,c,!0)}if("select"===(l=(a=r?bo(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yr;else if($r(a))if(Gr)g=oi;else{g=ri;var _=ni}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ii);switch(g&&(g=g(e,r))?Wr(s,g,n,i):(_&&_(e,a,r),"focusout"===e&&(_=a._wrapperState)&&_.controlled&&"number"===a.type&&Ze(a,"number",a.value)),_=r?bo(r):window,e){case"focusin":($r(_)||"true"===_.contentEditable)&&(mi=_,gi=r,_i=null);break;case"focusout":_i=gi=mi=null;break;case"mousedown":yi=!0;break;case"contextmenu":case"mouseup":case"dragend":yi=!1,vi(s,n,i);break;case"selectionchange":if(pi)break;case"keydown":case"keyup":vi(s,n,i)}var y;if(Dr)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else qr?zr(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Mr&&"ko"!==n.locale&&(qr||"onCompositionStart"!==v?"onCompositionEnd"===v&&qr&&(y=er()):(Jn="value"in(Xn=i)?Xn.value:Xn.textContent,qr=!0)),0<(_=Hi(r,v)).length&&(v=new vr(v,e,null,n,i),s.push({event:v,listeners:_}),(y||null!==(y=Br(n)))&&(v.data=y))),(y=Ar?function(e,t){switch(e){case"compositionend":return Br(t);case"keypress":return 32!==t.which?null:(Ur=!0,Fr);case"textInput":return(e=t.data)===Fr&&Ur?null:e;default:return null}}(e,n):function(e,t){if(qr)return"compositionend"===e||!Dr&&zr(e,t)?(e=er(),Zn=Jn=Xn=null,qr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mr&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Hi(r,"onBeforeInput")).length&&(i=new vr("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y)}Fi(s,t)}))}function Wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hi(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Rt(e,n))&&r.unshift(Wi(e,o,i)),null!=(o=Rt(e,t))&&r.push(Wi(e,o,i))),e=e.return}return r}function Vi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qi(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Rt(n,o))&&s.unshift(Wi(n,l,a)):i||null!=(l=Rt(n,o))&&s.push(Wi(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Ki=/\r\n?/g,Yi=/\u0000|\uFFFD/g;function Gi(e){return("string"==typeof e?e:""+e).replace(Ki,"\n").replace(Yi,"")}function Xi(e,t,n){if(t=Gi(t),Gi(e)!==t&&n)throw Error(ie(425))}function Ji(){}var Zi=null,eo=null;function to(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var no="function"==typeof setTimeout?setTimeout:void 0,ro="function"==typeof clearTimeout?clearTimeout:void 0,io="function"==typeof Promise?Promise:void 0,oo="function"==typeof queueMicrotask?queueMicrotask:void 0!==io?function(e){return io.resolve(null).then(e).catch(so)}:no;function so(e){setTimeout((function(){throw e}))}function ao(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jn(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jn(t)}function lo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var co=Math.random().toString(36).slice(2),ho="__reactFiber$"+co,fo="__reactProps$"+co,po="__reactContainer$"+co,mo="__reactEvents$"+co,go="__reactListeners$"+co,_o="__reactHandles$"+co;function yo(e){var t=e[ho];if(t)return t;for(var n=e.parentNode;n;){if(t=n[po]||n[ho]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[ho])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function vo(e){return!(e=e[ho]||e[po])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(ie(33))}function wo(e){return e[fo]||null}var Co=[],ko=-1;function Eo(e){return{current:e}}function To(e){0>ko||(e.current=Co[ko],Co[ko]=null,ko--)}function So(e,t){ko++,Co[ko]=e.current,e.current=t}var xo={},Io=Eo(xo),No=Eo(!1),Po=xo;function Ro(e,t){var n=e.type.contextTypes;if(!n)return xo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oo(e){return null!=(e=e.childContextTypes)}function Do(){To(No),To(Io)}function Lo(e,t,n){if(Io.current!==xo)throw Error(ie(168));So(Io,t),So(No,n)}function Ao(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(ie(108,je(e)||"Unknown",i));return Me({},n,r)}function Mo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xo,Po=Io.current,So(Io,e),So(No,No.current),!0}function Fo(e,t,n){var r=e.stateNode;if(!r)throw Error(ie(169));n?(e=Ao(e,t,Po),r.__reactInternalMemoizedMergedChildContext=e,To(No),To(Io),So(Io,e)):To(No),So(No,n)}var Uo=null,zo=!1,Bo=!1;function qo(e){null===Uo?Uo=[e]:Uo.push(e)}function jo(){if(!Bo&&null!==Uo){Bo=!0;var e=0,t=vn;try{var n=Uo;for(vn=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Uo=null,zo=!1}catch(_h){throw null!==Uo&&(Uo=Uo.slice(e+1)),Vt(Jt,jo),_h}finally{vn=t,Bo=!1}}return null}var $o=[],Wo=0,Ho=null,Vo=0,Qo=[],Ko=0,Yo=null,Go=1,Xo="";function Jo(e,t){$o[Wo++]=Vo,$o[Wo++]=Ho,Ho=e,Vo=t}function Zo(e,t,n){Qo[Ko++]=Go,Qo[Ko++]=Xo,Qo[Ko++]=Yo,Yo=e;var r=Go;e=Xo;var i=32-sn(r)-1;r&=~(1<<i),n+=1;var o=32-sn(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Go=1<<32-sn(t)+i|n<<i|r,Xo=o+e}else Go=1<<o|n<<i|r,Xo=e}function es(e){null!==e.return&&(Jo(e,1),Zo(e,1,0))}function ts(e){for(;e===Ho;)Ho=$o[--Wo],$o[Wo]=null,Vo=$o[--Wo],$o[Wo]=null;for(;e===Yo;)Yo=Qo[--Ko],Qo[Ko]=null,Xo=Qo[--Ko],Qo[Ko]=null,Go=Qo[--Ko],Qo[Ko]=null}var ns=null,rs=null,is=!1,os=null;function ss(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=lo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yo?{id:Go,overflow:Xo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function us(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(ie(418));t=lo(n.nextSibling);var r=ns;t&&as(e,t)?ss(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(ie(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!to(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(ie(418));for(;t;)ss(e,t),t=lo(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(ie(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=lo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?lo(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=lo(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===os?os=[e]:os.push(e)}var ms=ve.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=Me({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var _s=Eo(null),ys=null,vs=null,bs=null;function ws(){bs=vs=ys=null}function Cs(e){var t=_s.current;To(_s),e._currentValue=t}function ks(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Es(e,t){ys=e,bs=vs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(vl=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===vs){if(null===ys)throw Error(ie(308));vs=e,ys.dependencies={lanes:0,firstContext:e}}else vs=vs.next=e;return t}var Ss=null;function xs(e){null===Ss?Ss=[e]:Ss.push(e)}function Is(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,xs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ns(e,r)}function Ns(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ps=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Os(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ls(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&Iu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ns(e,n)}return null===(i=r.interleaved)?(t.next=t,xs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ns(e,n)}function As(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yn(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,r){var i=e.updateQueue;Ps=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=e.alternate;null!==c&&(a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l)}if(null!==o){var d=i.baseState;for(s=0,c=u=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=m.payload)?p.call(f,d,h):p))break e;d=Me({},d,h);break e;case 2:Ps=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Mu|=s,e.lanes=s,e.memoizedState=d}}function Us(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(ie(191,i));i.call(r)}}}var zs=(new ne.Component).refs;function Bs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:Me({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var qs={isMounted:function(e){return!!(e=e._reactInternals)&&qt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Ds(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=Ls(e,o,i))&&(nc(t,e,i,r),As(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Ds(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Ls(e,o,i))&&(nc(t,e,i,r),As(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ds(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Ls(e,i,r))&&(nc(t,e,r,n),As(t,e,r))}};function js(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&ai(n,r)&&ai(i,o))}function $s(e,t,n){var r=!1,i=xo,o=t.contextType;return"object"==typeof o&&null!==o?o=Ts(o):(i=Oo(t)?Po:Io.current,o=(r=null!=(r=t.contextTypes))?Ro(e,i):xo),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=qs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ws(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qs.enqueueReplaceState(t,t.state,null)}function Hs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=zs,Rs(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Ts(o):(o=Oo(t)?Po:Io.current,i.context=Ro(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Bs(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&qs.enqueueReplaceState(i,i.state,null),Fs(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function Vs(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===zs&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!=typeof e)throw Error(ie(284));if(!n._owner)throw Error(ie(290,e))}return e}function Qs(e,t){throw e=Object.prototype.toString.call(t),Error(ie(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ks(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function a(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===Ce?c(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===Re&&Ks(o)===t.type)?((r=i(t,n.props)).ref=Vs(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Vs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,o){return null===t||7!==t.tag?((t=Ac(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case be:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Vs(e,null,t),n.return=e,n;case we:return(t=Uc(t,e.mode,n)).return=e,t;case Re:return d(e,(0,t._init)(t._payload),n)}if(et(t)||Le(t))return(t=Ac(t,e.mode,n,null)).return=e,t;Qs(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:a(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case be:return n.key===i?l(e,t,n,r):null;case we:return n.key===i?u(e,t,n,r):null;case Re:return h(e,t,(i=n._init)(n._payload),r)}if(et(n)||Le(n))return null!==i?null:c(e,t,n,r,null);Qs(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return a(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case be:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case we:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case Re:return f(e,t,n,(0,r._init)(r._payload),i)}if(et(r)||Le(r))return c(t,e=e.get(n)||null,r,i,null);Qs(t,r)}return null}function p(i,s,a,l){for(var u=null,c=null,p=s,m=s=0,g=null;null!==p&&m<a.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var _=h(i,p,a[m],l);if(null===_){null===p&&(p=g);break}e&&p&&null===_.alternate&&t(i,p),s=o(_,s,m),null===c?u=_:c.sibling=_,c=_,p=g}if(m===a.length)return n(i,p),is&&Jo(i,m),u;if(null===p){for(;m<a.length;m++)null!==(p=d(i,a[m],l))&&(s=o(p,s,m),null===c?u=p:c.sibling=p,c=p);return is&&Jo(i,m),u}for(p=r(i,p);m<a.length;m++)null!==(g=f(p,i,m,a[m],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&p.forEach((function(e){return t(i,e)})),is&&Jo(i,m),u}function m(i,s,a,l){var u=Le(a);if("function"!=typeof u)throw Error(ie(150));if(null==(a=u.call(a)))throw Error(ie(151));for(var c=u=null,p=s,m=s=0,g=null,_=a.next();null!==p&&!_.done;m++,_=a.next()){p.index>m?(g=p,p=null):g=p.sibling;var y=h(i,p,_.value,l);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(i,p),s=o(y,s,m),null===c?u=y:c.sibling=y,c=y,p=g}if(_.done)return n(i,p),is&&Jo(i,m),u;if(null===p){for(;!_.done;m++,_=a.next())null!==(_=d(i,_.value,l))&&(s=o(_,s,m),null===c?u=_:c.sibling=_,c=_);return is&&Jo(i,m),u}for(p=r(i,p);!_.done;m++,_=a.next())null!==(_=f(p,i,m,_.value,l))&&(e&&null!==_.alternate&&p.delete(null===_.key?m:_.key),s=o(_,s,m),null===c?u=_:c.sibling=_,c=_);return e&&p.forEach((function(e){return t(i,e)})),is&&Jo(i,m),u}return function e(r,o,a,l){if("object"==typeof a&&null!==a&&a.type===Ce&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case be:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===Ce){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===Re&&Ks(u)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=Vs(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===Ce?((o=Ac(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Lc(a.type,a.key,a.props,null,r.mode,l)).ref=Vs(r,o,a),l.return=r,r=l)}return s(r);case we:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uc(a,r.mode,l)).return=r,r=o}return s(r);case Re:return e(r,o,(c=a._init)(a._payload),l)}if(et(a))return p(r,o,a,l);if(Le(a))return m(r,o,a,l);Qs(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Gs=Ys(!0),Xs=Ys(!1),Js={},Zs=Eo(Js),ea=Eo(Js),ta=Eo(Js);function na(e){if(e===Js)throw Error(ie(174));return e}function ra(e,t){switch(So(ta,t),So(ea,e),So(Zs,Js),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:at(null,"");break;default:t=at(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}To(Zs),So(Zs,t)}function ia(){To(Zs),To(ea),To(ta)}function oa(e){na(ta.current);var t=na(Zs.current),n=at(t,e.type);t!==n&&(So(ea,e),So(Zs,n))}function sa(e){ea.current===e&&(To(Zs),To(ea))}var aa=Eo(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function ca(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var da=ve.ReactCurrentDispatcher,ha=ve.ReactCurrentBatchConfig,fa=0,pa=null,ma=null,ga=null,_a=!1,ya=!1,va=0,ba=0;function wa(){throw Error(ie(321))}function Ca(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function ka(e,t,n,r,i,o){if(fa=o,pa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?sl:al,e=n(r,i),ya){o=0;do{if(ya=!1,va=0,25<=o)throw Error(ie(301));o+=1,ga=ma=null,t.updateQueue=null,da.current=ll,e=n(r,i)}while(ya)}if(da.current=ol,t=null!==ma&&null!==ma.next,fa=0,ga=ma=pa=null,_a=!1,t)throw Error(ie(300));return e}function Ea(){var e=0!==va;return va=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?pa.memoizedState=ga=e:ga=ga.next=e,ga}function Sa(){if(null===ma){var e=pa.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?pa.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(ie(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?pa.memoizedState=ga=e:ga=ga.next=e}return ga}function xa(e,t){return"function"==typeof t?t(e):t}function Ia(e){var t=Sa(),n=t.queue;if(null===n)throw Error(ie(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((fa&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(a=l=d,s=r):l=l.next=d,pa.lanes|=c,Mu|=c}u=u.next}while(null!==u&&u!==o);null===l?s=r:l.next=a,si(r,t.memoizedState)||(vl=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,pa.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Na(e){var t=Sa(),n=t.queue;if(null===n)throw Error(ie(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);si(o,t.memoizedState)||(vl=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Pa(){}function Ra(e,t){var n=pa,r=Sa(),i=t(),o=!si(r.memoizedState,i);if(o&&(r.memoizedState=i,vl=!0),r=r.queue,$a(La.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Ua(9,Da.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(ie(349));0!=(30&fa)||Oa(n,t,i)}return i}function Oa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,r){t.value=n,t.getSnapshot=r,Aa(t)&&Ma(e)}function La(e,t,n){return n((function(){Aa(t)&&Ma(e)}))}function Aa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!si(e,n)}catch(xk){return!0}}function Ma(e){var t=Ns(e,1);null!==t&&nc(t,e,1,-1)}function Fa(e){var t=Ta();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=tl.bind(null,pa,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function za(){return Sa().memoizedState}function Ba(e,t,n,r){var i=Ta();pa.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function qa(e,t,n,r){var i=Sa();r=void 0===r?null:r;var o=void 0;if(null!==ma){var s=ma.memoizedState;if(o=s.destroy,null!==r&&Ca(r,s.deps))return void(i.memoizedState=Ua(t,n,o,r))}pa.flags|=e,i.memoizedState=Ua(1|t,n,o,r)}function ja(e,t){return Ba(8390656,8,e,t)}function $a(e,t){return qa(2048,8,e,t)}function Wa(e,t){return qa(4,2,e,t)}function Ha(e,t){return qa(4,4,e,t)}function Va(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qa(e,t,n){return n=null!=n?n.concat([e]):null,qa(4,4,Va.bind(null,t,e),n)}function Ka(){}function Ya(e,t){var n=Sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ca(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ga(e,t){var n=Sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ca(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0==(21&fa)?(e.baseState&&(e.baseState=!1,vl=!0),e.memoizedState=n):(si(n,t)||(n=mn(),pa.lanes|=n,Mu|=n,e.baseState=!0),t)}function Ja(e,t){var n=vn;vn=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{vn=n,ha.transition=r}}function Za(){return Sa().memoizedState}function el(e,t,n){var r=tc(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nl(e)?rl(t,n):null!==(n=Is(e,t,n,r))&&(nc(n,e,r,ec()),il(n,t,r))}function tl(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nl(e))rl(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,si(a,s)){var l=t.interleaved;return null===l?(i.next=i,xs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(Ch){}null!==(n=Is(e,t,i,r))&&(nc(n,e,r,i=ec()),il(n,t,r))}}function nl(e){var t=e.alternate;return e===pa||null!==t&&t===pa}function rl(e,t){ya=_a=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function il(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yn(e,n)}}var ol={readContext:Ts,useCallback:wa,useContext:wa,useEffect:wa,useImperativeHandle:wa,useInsertionEffect:wa,useLayoutEffect:wa,useMemo:wa,useReducer:wa,useRef:wa,useState:wa,useDebugValue:wa,useDeferredValue:wa,useTransition:wa,useMutableSource:wa,useSyncExternalStore:wa,useId:wa,unstable_isNewReconciler:!1},sl={readContext:Ts,useCallback:function(e,t){return Ta().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:ja,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ba(4194308,4,Va.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=Ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ta();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=el.bind(null,pa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ta().memoizedState=e},useState:Fa,useDebugValue:Ka,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Ja.bind(null,e[1]),Ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pa,i=Ta();if(is){if(void 0===n)throw Error(ie(407));n=n()}else{if(n=t(),null===Nu)throw Error(ie(349));0!=(30&fa)||Oa(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,ja(La.bind(null,r,o,e),[e]),r.flags|=2048,Ua(9,Da.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ta(),t=Nu.identifierPrefix;if(is){var n=Xo;t=":"+t+"R"+(n=(Go&~(1<<32-sn(Go)-1)).toString(32)+n),0<(n=va++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ba++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},al={readContext:Ts,useCallback:Ya,useContext:Ts,useEffect:$a,useImperativeHandle:Qa,useInsertionEffect:Wa,useLayoutEffect:Ha,useMemo:Ga,useReducer:Ia,useRef:za,useState:function(){return Ia(xa)},useDebugValue:Ka,useDeferredValue:function(e){return Xa(Sa(),ma.memoizedState,e)},useTransition:function(){return[Ia(xa)[0],Sa().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Ra,useId:Za,unstable_isNewReconciler:!1},ll={readContext:Ts,useCallback:Ya,useContext:Ts,useEffect:$a,useImperativeHandle:Qa,useInsertionEffect:Wa,useLayoutEffect:Ha,useMemo:Ga,useReducer:Na,useRef:za,useState:function(){return Na(xa)},useDebugValue:Ka,useDeferredValue:function(e){var t=Sa();return null===ma?t.memoizedState=e:Xa(t,ma.memoizedState,e)},useTransition:function(){return[Na(xa)[0],Sa().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Ra,useId:Za,unstable_isNewReconciler:!1};function ul(e,t){try{var n="",r=t;do{n+=Be(r),r=r.return}while(r);var i=n}catch(Pk){i="\nError generating stack: "+Pk.message+"\n"+Pk.stack}return{value:e,source:t,stack:i,digest:null}}function cl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function dl(e,t){try{console.error(t.value)}catch(mh){setTimeout((function(){throw mh}))}}var hl="function"==typeof WeakMap?WeakMap:Map;function fl(e,t,n){(n=Ds(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Hu=r),dl(0,t)},n}function pl(e,t,n){(n=Ds(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){dl(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){dl(0,t),"function"!=typeof r&&(null===Vu?Vu=new Set([this]):Vu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ml(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function gl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function _l(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ds(-1,1)).tag=2,Ls(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yl=ve.ReactCurrentOwner,vl=!1;function bl(e,t,n,r){t.child=null===e?Xs(t,null,n,r):Gs(t,e.child,n,r)}function wl(e,t,n,r,i){n=n.render;var o=t.ref;return Es(t,i),r=ka(e,t,n,r,o,i),n=Ea(),null===e||vl?(is&&n&&es(t),t.flags|=1,bl(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wl(e,t,i))}function Cl(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Oc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,kl(e,t,o,r,i))}if(o=e.child,0==(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:ai)(s,r)&&e.ref===t.ref)return Wl(e,t,i)}return t.flags|=1,(e=Dc(o,r)).ref=t.ref,e.return=t,t.child=e}function kl(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ai(o,r)&&e.ref===t.ref){if(vl=!1,t.pendingProps=r=o,0==(e.lanes&i))return t.lanes=e.lanes,Wl(e,t,i);0!=(131072&e.flags)&&(vl=!0)}}return Sl(e,t,n,r,i)}function El(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},So(Du,Ou),Ou|=n;else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,So(Du,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,So(Du,Ou),Ou|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,So(Du,Ou),Ou|=r;return bl(e,t,i,n),t.child}function Tl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sl(e,t,n,r,i){var o=Oo(n)?Po:Io.current;return o=Ro(t,o),Es(t,i),n=ka(e,t,n,r,o,i),r=Ea(),null===e||vl?(is&&r&&es(t),t.flags|=1,bl(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wl(e,t,i))}function xl(e,t,n,r,i){if(Oo(n)){var o=!0;Mo(t)}else o=!1;if(Es(t,i),null===t.stateNode)$l(e,t),$s(t,n,r),Hs(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;u="object"==typeof u&&null!==u?Ts(u):Ro(t,u=Oo(n)?Po:Io.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||l!==u)&&Ws(t,s,r,u),Ps=!1;var h=t.memoizedState;s.state=h,Fs(t,r,s,i),l=t.memoizedState,a!==r||h!==l||No.current||Ps?("function"==typeof c&&(Bs(t,n,c,r),l=t.memoizedState),(a=Ps||js(t,n,a,r,h,l,u))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Os(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:gs(t.type,a),s.props=u,d=t.pendingProps,h=s.context,l="object"==typeof(l=n.contextType)&&null!==l?Ts(l):Ro(t,l=Oo(n)?Po:Io.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||h!==l)&&Ws(t,s,r,l),Ps=!1,h=t.memoizedState,s.state=h,Fs(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||No.current||Ps?("function"==typeof f&&(Bs(t,n,f,r),p=t.memoizedState),(u=Ps||js(t,n,u,r,h,p,l)||!1)?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Il(e,t,n,r,o,i)}function Il(e,t,n,r,i,o){Tl(e,t);var s=0!=(128&t.flags);if(!r&&!s)return i&&Fo(t,n,!1),Wl(e,t,o);r=t.stateNode,yl.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Gs(t,e.child,null,o),t.child=Gs(t,null,a,o)):bl(e,t,a,o),t.memoizedState=r.state,i&&Fo(t,n,!0),t.child}function Nl(e){var t=e.stateNode;t.pendingContext?Lo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Lo(0,t.context,!1),ra(e,t.containerInfo)}function Pl(e,t,n,r,i){return fs(),ps(i),t.flags|=256,bl(e,t,n,r),t.child}var Rl,Ol,Dl,Ll,Al={dehydrated:null,treeContext:null,retryLane:0};function Ml(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fl(e,t,n){var r,i=t.pendingProps,o=aa.current,s=!1,a=0!=(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),So(aa,1&o),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},0==(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=Mc(a,i,0,null),e=Ac(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ml(n),t.memoizedState=Al,e):Ul(t,a));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,zl(e,t,s,r=cl(Error(ie(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Ac(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!=(1&t.mode)&&Gs(t,e.child,null,s),t.child.memoizedState=Ml(s),t.memoizedState=Al,o);if(0==(1&t.mode))return zl(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var a=r.dgst;return r=a,zl(e,t,s,r=cl(o=Error(ie(419)),r,void 0))}if(a=0!=(s&e.childLanes),vl||a){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ns(e,i),nc(r,e,i,-1))}return mc(),zl(e,t,s,r=cl(Error(ie(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=lo(i.nextSibling),ns=t,is=!0,os=null,null!==e&&(Qo[Ko++]=Go,Qo[Ko++]=Xo,Qo[Ko++]=Yo,Go=e.id,Xo=e.overflow,Yo=t),(t=Ul(t,r.children)).flags|=4096,t)}(e,t,a,i,r,o,n);if(s){s=i.fallback,a=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0==(1&a)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dc(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dc(r,s):(s=Ac(s,a,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,a=null===(a=e.child.memoizedState)?Ml(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Al,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ul(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zl(e,t,n,r){return null!==r&&ps(r),Gs(t,e.child,null,n),(e=Ul(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ks(e.return,t,n)}function ql(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function jl(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(bl(e,t,r.children,n),0!=(2&(r=aa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bl(e,n,t);else if(19===e.tag)Bl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(So(aa,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ql(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ql(t,!0,n,null,o);break;case"together":ql(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $l(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(ie(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hl(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ql(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vl(t),null;case 1:case 17:return Oo(t.type)&&Do(),Vl(t),null;case 3:return r=t.stateNode,ia(),To(No),To(Io),ca(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==os&&(sc(os),os=null))),Ol(e,t),Vl(t),null;case 5:sa(t);var i=na(ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Dl(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(ie(166));return Vl(t),null}if(e=na(Zs.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ho]=t,r[fo]=o,e=0!=(1&t.mode),n){case"dialog":Ui("cancel",r),Ui("close",r);break;case"iframe":case"object":case"embed":Ui("load",r);break;case"video":case"audio":for(i=0;i<Li.length;i++)Ui(Li[i],r);break;case"source":Ui("error",r);break;case"img":case"image":case"link":Ui("error",r),Ui("load",r);break;case"details":Ui("toggle",r);break;case"input":Ye(r,o),Ui("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ui("invalid",r);break;case"textarea":rt(r,o),Ui("invalid",r)}for(var s in _t(n,o),i=null,o)if(o.hasOwnProperty(s)){var a=o[s];"children"===s?"string"==typeof a?r.textContent!==a&&(!0!==o.suppressHydrationWarning&&Xi(r.textContent,a,e),i=["children",a]):"number"==typeof a&&r.textContent!==""+a&&(!0!==o.suppressHydrationWarning&&Xi(r.textContent,a,e),i=["children",""+a]):se.hasOwnProperty(s)&&null!=a&&"onScroll"===s&&Ui("scroll",r)}switch(n){case"input":He(r),Je(r,o,!0);break;case"textarea":He(r),ot(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=Ji)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=st(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ho]=t,e[fo]=r,Rl(e,t,!1,!1),t.stateNode=e;e:{switch(s=yt(n,r),n){case"dialog":Ui("cancel",e),Ui("close",e),i=r;break;case"iframe":case"object":case"embed":Ui("load",e),i=r;break;case"video":case"audio":for(i=0;i<Li.length;i++)Ui(Li[i],e);i=r;break;case"source":Ui("error",e),i=r;break;case"img":case"image":case"link":Ui("error",e),Ui("load",e),i=r;break;case"details":Ui("toggle",e),i=r;break;case"input":Ye(e,r),i=Ke(e,r),Ui("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Me({},r,{value:void 0}),Ui("invalid",e);break;case"textarea":rt(e,r),i=nt(e,r),Ui("invalid",e)}for(o in _t(n,i),a=i)if(a.hasOwnProperty(o)){var l=a[o];"style"===o?mt(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&ct(e,l):"children"===o?"string"==typeof l?("textarea"!==n||""!==l)&&dt(e,l):"number"==typeof l&&dt(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(se.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ui("scroll",e):null!=l&&ye(e,o,l,s))}switch(n){case"input":He(e),Je(e,r,!1);break;case"textarea":He(e),ot(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$e(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?tt(e,!!r.multiple,o,!1):null!=r.defaultValue&&tt(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Ji)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vl(t),null;case 6:if(e&&null!=t.stateNode)Ll(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(ie(166));if(n=na(ta.current),na(Zs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[ho]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xi(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xi(r.nodeValue,n,0!=(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ho]=t,t.stateNode=r}return Vl(t),null;case 13:if(To(aa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!=(1&t.mode)&&0==(128&t.flags))hs(),fs(),t.flags|=98560,o=!1;else if(o=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(ie(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(ie(317));o[ho]=t}else fs(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vl(t),o=!1}else null!==os&&(sc(os),os=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&aa.current)?0===Lu&&(Lu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Vl(t),null);case 4:return ia(),Ol(e,t),null===e&&qi(t.stateNode.containerInfo),Vl(t),null;case 10:return Cs(t.type._context),Vl(t),null;case 19:if(To(aa),null===(o=t.memoizedState))return Vl(t),null;if(r=0!=(128&t.flags),null===(s=o.rendering))if(r)Hl(o,!1);else{if(0!==Lu||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=la(e))){for(t.flags|=128,Hl(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return So(aa,1&aa.current|2),t.child}e=e.sibling}null!==o.tail&&Gt()>ju&&(t.flags|=128,r=!0,Hl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!is)return Vl(t),null}else 2*Gt()-o.renderingStartTime>ju&&1073741824!==n&&(t.flags|=128,r=!0,Hl(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Gt(),t.sibling=null,n=aa.current,So(aa,r?1&n|2:1&n),t):(Vl(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Ou)&&(Vl(t),6&t.subtreeFlags&&(t.flags|=8192)):Vl(t),null;case 24:case 25:return null}throw Error(ie(156,t.tag))}function Kl(e,t){switch(ts(t),t.tag){case 1:return Oo(t.type)&&Do(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),To(No),To(Io),ca(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(To(aa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(ie(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return To(aa),null;case 4:return ia(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Rl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ol=function(){},Dl=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,na(Zs.current);var o,s=null;switch(n){case"input":i=Ke(e,i),r=Ke(e,r),s=[];break;case"select":i=Me({},i,{value:void 0}),r=Me({},r,{value:void 0}),s=[];break;case"textarea":i=nt(e,i),r=nt(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Ji)}for(u in _t(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(se.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(null!=l||null!=a))if("style"===u)if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(s=s||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(se.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Ui("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ll=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yl=!1,Gl=!1,Xl="function"==typeof WeakSet?WeakSet:Set,Jl=null;function Zl(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(xk){Ec(e,t,xk)}else n.current=null}function eu(e,t,n){try{n()}catch(xk){Ec(e,t,xk)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&eu(t,n,o)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[ho],delete t[fo],delete t[mo],delete t[go],delete t[_o]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function au(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ji));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}var cu=null,du=!1;function hu(e,t,n){for(n=n.child;null!==n;)fu(e,t,n),n=n.sibling}function fu(e,t,n){if(on&&"function"==typeof on.onCommitFiberUnmount)try{on.onCommitFiberUnmount(rn,n)}catch(Rk){}switch(n.tag){case 5:Gl||Zl(n,t);case 6:var r=cu,i=du;cu=null,hu(e,t,n),du=i,null!==(cu=r)&&(du?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(du?(e=cu,n=n.stateNode,8===e.nodeType?ao(e.parentNode,n):1===e.nodeType&&ao(e,n),jn(e)):ao(cu,n.stateNode));break;case 4:r=cu,i=du,cu=n.stateNode.containerInfo,du=!0,hu(e,t,n),cu=r,du=i;break;case 0:case 11:case 14:case 15:if(!Gl&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!=(2&o)||0!=(4&o))&&eu(n,t,s),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Gl&&(Zl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(Rk){Ec(n,t,Rk)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Gl=(r=Gl)||null!==n.memoizedState,hu(e,t,n),Gl=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xl),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;null!==a;){switch(a.tag){case 5:cu=a.stateNode,du=!1;break e;case 3:case 4:cu=a.stateNode.containerInfo,du=!0;break e}a=a.return}if(null===cu)throw Error(ie(160));fu(o,s,i),cu=null,du=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(Ch){Ec(i,t,Ch)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),_u(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(Ih){Ec(e,e.return,Ih)}try{nu(5,e,e.return)}catch(Ih){Ec(e,e.return,Ih)}}break;case 1:mu(t,e),_u(e),512&r&&null!==n&&Zl(n,n.return);break;case 5:if(mu(t,e),_u(e),512&r&&null!==n&&Zl(n,n.return),32&e.flags){var i=e.stateNode;try{dt(i,"")}catch(Ih){Ec(e,e.return,Ih)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===a&&"radio"===o.type&&null!=o.name&&Ge(i,o),yt(a,s);var u=yt(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];"style"===c?mt(i,d):"dangerouslySetInnerHTML"===c?ct(i,d):"children"===c?dt(i,d):ye(i,c,d,u)}switch(a){case"input":Xe(i,o);break;case"textarea":it(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?tt(i,!!o.multiple,f,!1):h!==!!o.multiple&&(null!=o.defaultValue?tt(i,!!o.multiple,o.defaultValue,!0):tt(i,!!o.multiple,o.multiple?[]:"",!1))}i[fo]=o}catch(Ih){Ec(e,e.return,Ih)}}break;case 6:if(mu(t,e),_u(e),4&r){if(null===e.stateNode)throw Error(ie(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(Ih){Ec(e,e.return,Ih)}}break;case 3:if(mu(t,e),_u(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jn(t.containerInfo)}catch(Ih){Ec(e,e.return,Ih)}break;case 4:default:mu(t,e),_u(e);break;case 13:mu(t,e),_u(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(qu=Gt())),4&r&&pu(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(Gl=(u=Gl)||c,mu(t,e),Gl=u):mu(t,e),_u(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!c&&0!=(1&e.mode))for(Jl=e,c=e.child;null!==c;){for(d=Jl=c;null!==Jl;){switch(f=(h=Jl).child,h.tag){case 0:case 11:case 14:case 15:nu(4,h,h.return);break;case 1:Zl(h,h.return);var p=h.stateNode;if("function"==typeof p.componentWillUnmount){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(Ih){Ec(r,n,Ih)}}break;case 5:Zl(h,h.return);break;case 22:if(null!==h.memoizedState){wu(d);continue}}null!==f?(f.return=h,Jl=f):wu(d)}c=c.sibling}e:for(c=null,d=e;;){if(5===d.tag){if(null===c){c=d;try{i=d.stateNode,u?"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(a=d.stateNode,s=null!=(l=d.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,a.style.display=pt("display",s))}catch(Ih){Ec(e,e.return,Ih)}}}else if(6===d.tag){if(null===c)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(Ih){Ec(e,e.return,Ih)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mu(t,e),_u(e),4&r&&pu(e);case 21:}}function _u(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(dt(i,""),r.flags&=-33),uu(e,au(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lu(e,au(e),o);break;default:throw Error(ie(161))}}catch(Hk){Ec(e,e.return,Hk)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){Jl=e,vu(e)}function vu(e,t,n){for(var r=0!=(1&e.mode);null!==Jl;){var i=Jl,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Yl;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Gl;a=Yl;var u=Gl;if(Yl=s,(Gl=l)&&!u)for(Jl=i;null!==Jl;)l=(s=Jl).child,22===s.tag&&null!==s.memoizedState?Cu(i):null!==l?(l.return=s,Jl=l):Cu(i);for(;null!==o;)Jl=o,vu(o),o=o.sibling;Jl=i,Yl=a,Gl=u}bu(e)}else 0!=(8772&i.subtreeFlags)&&null!==o?(o.return=i,Jl=o):bu(e)}}function bu(e){for(;null!==Jl;){var t=Jl;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gl||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Us(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Us(t,s,n)}break;case 5:var a=t.stateNode;if(null===n&&4&t.flags){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&jn(d)}}}break;default:throw Error(ie(163))}Gl||512&t.flags&&iu(t)}catch(Ek){Ec(t,t.return,Ek)}}if(t===e){Jl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jl=n;break}Jl=t.return}}function wu(e){for(;null!==Jl;){var t=Jl;if(t===e){Jl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jl=n;break}Jl=t.return}}function Cu(e){for(;null!==Jl;){var t=Jl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(Hk){Ec(t,n,Hk)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Hk){Ec(t,i,Hk)}}var o=t.return;try{iu(t)}catch(Hk){Ec(t,o,Hk)}break;case 5:var s=t.return;try{iu(t)}catch(Hk){Ec(t,s,Hk)}}}catch(Hk){Ec(t,t.return,Hk)}if(t===e){Jl=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Jl=a;break}Jl=t.return}}var ku,Eu=Math.ceil,Tu=ve.ReactCurrentDispatcher,Su=ve.ReactCurrentOwner,xu=ve.ReactCurrentBatchConfig,Iu=0,Nu=null,Pu=null,Ru=0,Ou=0,Du=Eo(0),Lu=0,Au=null,Mu=0,Fu=0,Uu=0,zu=null,Bu=null,qu=0,ju=1/0,$u=null,Wu=!1,Hu=null,Vu=null,Qu=!1,Ku=null,Yu=0,Gu=0,Xu=null,Ju=-1,Zu=0;function ec(){return 0!=(6&Iu)?Gt():-1!==Ju?Ju:Ju=Gt()}function tc(e){return 0==(1&e.mode)?1:0!=(2&Iu)&&0!==Ru?Ru&-Ru:null!==ms.transition?(0===Zu&&(Zu=mn()),Zu):0!==(e=vn)?e:e=void 0===(e=window.event)?16:Gn(e.type)}function nc(e,t,n,r){if(50<Gu)throw Gu=0,Xu=null,Error(ie(185));_n(e,n,r),0!=(2&Iu)&&e===Nu||(e===Nu&&(0==(2&Iu)&&(Fu|=n),4===Lu&&ac(e,Ru)),rc(e,r),1===n&&0===Iu&&0==(1&t.mode)&&(ju=Gt()+500,zo&&jo()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-sn(o),a=1<<s,l=i[s];-1===l?0!=(a&n)&&0==(a&r)||(i[s]=fn(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=hn(e,e===Nu?Ru:0);if(0===r)null!==n&&Qt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qt(n),1===t)0===e.tag?function(e){zo=!0,qo(e)}(lc.bind(null,e)):qo(lc.bind(null,e)),oo((function(){0==(6&Iu)&&jo()})),n=null;else{switch(bn(r)){case 1:n=Jt;break;case 4:n=Zt;break;case 16:default:n=en;break;case 536870912:n=nn}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ju=-1,Zu=0,0!=(6&Iu))throw Error(ie(327));var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var r=hn(e,e===Nu?Ru:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Iu;Iu|=2;var o=pc();for(Nu===e&&Ru===t||($u=null,ju=Gt()+500,hc(e,t));;)try{yc();break}catch(Rk){fc(e,Rk)}ws(),Tu.current=o,Iu=i,null!==Pu?t=0:(Nu=null,Ru=0,t=Lu)}if(0!==t){if(2===t&&0!==(i=pn(e))&&(r=i,t=oc(e,i)),1===t)throw n=Au,hc(e,0),ac(e,r),rc(e,Gt()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!si(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&0!==(o=pn(e))&&(r=o,t=oc(e,o)),1===t))throw n=Au,hc(e,0),ac(e,r),rc(e,Gt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ie(345));case 2:case 5:wc(e,Bu,$u);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=qu+500-Gt())){if(0!==hn(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=no(wc.bind(null,e,Bu,$u),t);break}wc(e,Bu,$u);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-sn(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Gt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=no(wc.bind(null,e,Bu,$u),r);break}wc(e,Bu,$u);break;default:throw Error(ie(329))}}}return rc(e,Gt()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=zu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bu,Bu=n,null!==t&&sc(t)),e}function sc(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function ac(e,t){for(t&=~Uu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-sn(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!=(6&Iu))throw Error(ie(327));Cc();var t=hn(e,0);if(0==(1&t))return rc(e,Gt()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pn(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Au,hc(e,0),ac(e,t),rc(e,Gt()),n;if(6===n)throw Error(ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bu,$u),rc(e,Gt()),null}function uc(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(ju=Gt()+500,zo&&jo())}}function cc(e){null!==Ku&&0===Ku.tag&&0==(6&Iu)&&Cc();var t=Iu;Iu|=1;var n=xu.transition,r=vn;try{if(xu.transition=null,vn=1,e)return e()}finally{vn=r,xu.transition=n,0==(6&(Iu=t))&&jo()}}function dc(){Ou=Du.current,To(Du)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ro(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Do();break;case 3:ia(),To(No),To(Io),ca();break;case 5:sa(r);break;case 4:ia();break;case 13:case 19:To(aa);break;case 10:Cs(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Nu=e,Pu=e=Dc(e.current,null),Ru=Ou=t,Lu=0,Au=null,Uu=Fu=Mu=0,Bu=zu=null,null!==Ss){for(t=0;t<Ss.length;t++)if(null!==(r=(n=Ss[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Ss=null}return e}function fc(e,t){for(;;){var n=Pu;try{if(ws(),da.current=ol,_a){for(var r=pa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}_a=!1}if(fa=0,ga=ma=pa=null,ya=!1,va=0,Su.current=null,null===n||null===n.return){Lu=1,Au=t,Pu=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Ru,a.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,c=a,d=c.tag;if(0==(1&c.mode)&&(0===d||11===d||15===d)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=gl(s);if(null!==f){f.flags&=-257,_l(f,s,a,0,t),1&f.mode&&ml(o,u,t),l=u;var p=(t=f).updateQueue;if(null===p){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}if(0==(1&t)){ml(o,u,t),mc();break e}l=Error(ie(426))}else if(is&&1&a.mode){var g=gl(s);if(null!==g){0==(65536&g.flags)&&(g.flags|=256),_l(g,s,a,0,t),ps(ul(l,a));break e}}o=l=ul(l,a),4!==Lu&&(Lu=2),null===zu?zu=[o]:zu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,fl(0,l,t));break e;case 1:a=l;var _=o.type,y=o.stateNode;if(0==(128&o.flags)&&("function"==typeof _.getDerivedStateFromError||null!==y&&"function"==typeof y.componentDidCatch&&(null===Vu||!Vu.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,pl(o,a,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(v){t=v,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function pc(){var e=Tu.current;return Tu.current=ol,null===e?ol:e}function mc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Nu||0==(268435455&Mu)&&0==(268435455&Fu)||ac(Nu,Ru)}function gc(e,t){var n=Iu;Iu|=2;var r=pc();for(Nu===e&&Ru===t||($u=null,hc(e,t));;)try{_c();break}catch(_h){fc(e,_h)}if(ws(),Iu=n,Tu.current=r,null!==Pu)throw Error(ie(261));return Nu=null,Ru=0,Lu}function _c(){for(;null!==Pu;)vc(Pu)}function yc(){for(;null!==Pu&&!Kt();)vc(Pu)}function vc(e){var t=ku(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?bc(e):Pu=t,Su.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Ql(n,t,Ou)))return void(Pu=n)}else{if(null!==(n=Kl(n,t)))return n.flags&=32767,void(Pu=n);if(null===e)return Lu=6,void(Pu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Lu&&(Lu=5)}function wc(e,t,n){var r=vn,i=xu.transition;try{xu.transition=null,vn=1,function(e,t,n,r){do{Cc()}while(null!==Ku);if(0!=(6&Iu))throw Error(ie(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ie(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-sn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,o),e===Nu&&(Pu=Nu=null,Ru=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Qu||(Qu=!0,Nc(en,(function(){return Cc(),null}))),o=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||o){o=xu.transition,xu.transition=null;var s=vn;vn=1;var a=Iu;Iu|=4,Su.current=null,function(e,t){if(Zi=Wn,hi(e=di())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(Xk){n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var f;d!==n||0!==i&&3!==d.nodeType||(a=s+i),d!==o||0!==r&&3!==d.nodeType||(l=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(f=d.firstChild);)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),null!==(f=d.nextSibling))break;h=(d=h).parentNode}d=f}n=-1===a||-1===l?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(eo={focusedElem:e,selectionRange:n},Wn=!1,Jl=t;null!==Jl;)if(e=(t=Jl).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Jl=e;else for(;null!==Jl;){t=Jl;try{var p=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,g=p.memoizedState,_=t.stateNode,y=_.getSnapshotBeforeUpdate(t.elementType===t.type?m:gs(t.type,m),g);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(ie(163))}}catch(Xk){Ec(t,t.return,Xk)}if(null!==(e=t.sibling)){e.return=t.return,Jl=e;break}Jl=t.return}p=tu,tu=!1}(e,n),gu(n,e),fi(eo),Wn=!!Zi,eo=Zi=null,e.current=n,yu(n),Yt(),Iu=a,vn=s,xu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Ku=e,Yu=i),0===(o=e.pendingLanes)&&(Vu=null),function(e){if(on&&"function"==typeof on.onCommitFiberRoot)try{on.onCommitFiberRoot(rn,e,void 0,128==(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Gt()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Hu,Hu=null,e;0!=(1&Yu)&&0!==e.tag&&Cc(),0!=(1&(o=e.pendingLanes))?e===Xu?Gu++:(Gu=0,Xu=e):Gu=0,jo()}(e,t,n,r)}finally{xu.transition=i,vn=r}return null}function Cc(){if(null!==Ku){var e=bn(Yu),t=xu.transition,n=vn;try{if(xu.transition=null,vn=16>e?16:e,null===Ku)var r=!1;else{if(e=Ku,Ku=null,Yu=0,0!=(6&Iu))throw Error(ie(331));var i=Iu;for(Iu|=4,Jl=e.current;null!==Jl;){var o=Jl,s=o.child;if(0!=(16&Jl.flags)){var a=o.deletions;if(null!==a){for(var l=0;l<a.length;l++){var u=a[l];for(Jl=u;null!==Jl;){var c=Jl;switch(c.tag){case 0:case 11:case 15:nu(8,c,o)}var d=c.child;if(null!==d)d.return=c,Jl=d;else for(;null!==Jl;){var h=(c=Jl).sibling,f=c.return;if(ou(c),c===u){Jl=null;break}if(null!==h){h.return=f,Jl=h;break}Jl=f}}}var p=o.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Jl=o}}if(0!=(2064&o.subtreeFlags)&&null!==s)s.return=o,Jl=s;else e:for(;null!==Jl;){if(0!=(2048&(o=Jl).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var _=o.sibling;if(null!==_){_.return=o.return,Jl=_;break e}Jl=o.return}}var y=e.current;for(Jl=y;null!==Jl;){var v=(s=Jl).child;if(0!=(2064&s.subtreeFlags)&&null!==v)v.return=s,Jl=v;else e:for(s=y;null!==Jl;){if(0!=(2048&(a=Jl).flags))try{switch(a.tag){case 0:case 11:case 15:ru(9,a)}}catch(w){Ec(a,a.return,w)}if(a===s){Jl=null;break e}var b=a.sibling;if(null!==b){b.return=a.return,Jl=b;break e}Jl=a.return}}if(Iu=i,jo(),on&&"function"==typeof on.onPostCommitFiberRoot)try{on.onPostCommitFiberRoot(rn,e)}catch(w){}r=!0}return r}finally{vn=n,xu.transition=t}}return!1}function kc(e,t,n){e=Ls(e,t=fl(0,t=ul(n,t),1),1),t=ec(),null!==e&&(_n(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Vu||!Vu.has(r))){t=Ls(t,e=pl(t,e=ul(n,e),1),1),e=ec(),null!==t&&(_n(t,1,e),rc(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Ru&n)===n&&(4===Lu||3===Lu&&(130023424&Ru)===Ru&&500>Gt()-qu?hc(e,0):Uu|=n),rc(e,t)}function Sc(e,t){0===t&&(0==(1&e.mode)?t=1:(t=cn,0==(130023424&(cn<<=1))&&(cn=4194304)));var n=ec();null!==(e=Ns(e,t))&&(_n(e,t,n),rc(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ie(314))}null!==r&&r.delete(t),Sc(e,n)}function Nc(e,t){return Vt(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Pc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Oc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case Ce:return Ac(n.children,i,o,t);case ke:s=8,i|=8;break;case Ee:return(e=Rc(12,n,t,2|i)).elementType=Ee,e.lanes=o,e;case Ie:return(e=Rc(13,n,t,i)).elementType=Ie,e.lanes=o,e;case Ne:return(e=Rc(19,n,t,i)).elementType=Ne,e.lanes=o,e;case Oe:return Mc(n,i,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Te:s=10;break e;case Se:s=9;break e;case xe:s=11;break e;case Pe:s=14;break e;case Re:s=16,r=null;break e}throw Error(ie(130,null==e?e:typeof e,""))}return(t=Rc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ac(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=Oe,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gn(0),this.expirationTimes=gn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gn(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,o,s,a,l){return e=new zc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Rc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(o),e}function qc(e){if(!e)return xo;e:{if(qt(e=e._reactInternals)!==e||1!==e.tag)throw Error(ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(ie(171))}if(1===e.tag){var n=e.type;if(Oo(n))return Ao(e,n,t)}return t}function jc(e,t,n,r,i,o,s,a,l){return(e=Bc(n,r,!0,e,0,o,0,a,l)).context=qc(null),n=e.current,(o=Ds(r=ec(),i=tc(n))).callback=null!=t?t:null,Ls(n,o,i),e.current.lanes=i,_n(e,i,r),rc(e,r),e}function $c(e,t,n,r){var i=t.current,o=ec(),s=tc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ds(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ls(i,t,s))&&(nc(e,i,s,o),As(e,i,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}ku=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||No.current)vl=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return vl=!1,function(e,t,n){switch(t.tag){case 3:Nl(t),fs();break;case 5:oa(t);break;case 1:Oo(t.type)&&Mo(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;So(_s,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(So(aa,1&aa.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Fl(e,t,n):(So(aa,1&aa.current),null!==(e=Wl(e,t,n))?e.sibling:null);So(aa,1&aa.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return jl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),So(aa,aa.current),r)break;return null;case 22:case 23:return t.lanes=0,El(e,t,n)}return Wl(e,t,n)}(e,t,n);vl=0!=(131072&e.flags)}else vl=!1,is&&0!=(1048576&t.flags)&&Zo(t,Vo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$l(e,t),e=t.pendingProps;var i=Ro(t,Io.current);Es(t,n),i=ka(null,t,r,e,i,n);var o=Ea();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oo(r)?(o=!0,Mo(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Rs(t),i.updater=qs,t.stateNode=i,i._reactInternals=t,Hs(t,r,e,n),t=Il(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),bl(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($l(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Oc(e)?1:0;if(null!=e){if((e=e.$$typeof)===xe)return 11;if(e===Pe)return 14}return 2}(r),e=gs(r,e),i){case 0:t=Sl(null,t,r,e,n);break e;case 1:t=xl(null,t,r,e,n);break e;case 11:t=wl(null,t,r,e,n);break e;case 14:t=Cl(null,t,r,gs(r.type,e),n);break e}throw Error(ie(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Sl(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,xl(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Nl(t),null===e)throw Error(ie(387));r=t.pendingProps,i=(o=t.memoizedState).element,Os(e,t),Fs(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pl(e,t,r,n,i=ul(Error(ie(423)),t));break e}if(r!==i){t=Pl(e,t,r,n,i=ul(Error(ie(424)),t));break e}for(rs=lo(t.stateNode.containerInfo.firstChild),ns=t,is=!0,os=null,n=Xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Wl(e,t,n);break e}bl(e,t,r,n)}t=t.child}return t;case 5:return oa(t),null===e&&us(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,to(r,i)?s=null:null!==o&&to(r,o)&&(t.flags|=32),Tl(e,t),bl(e,t,s,n),t.child;case 6:return null===e&&us(t),null;case 13:return Fl(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Gs(t,null,r,n):bl(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wl(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return bl(e,t,t.pendingProps,n),t.child;case 8:case 12:return bl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,So(_s,r._currentValue),r._currentValue=s,null!==o)if(si(o.value,s)){if(o.children===i.children&&!No.current){t=Wl(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var a=o.dependencies;if(null!==a){s=o.child;for(var l=a.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Ds(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ks(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(ie(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),ks(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bl(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Es(t,n),r=r(i=Ts(i)),t.flags|=1,bl(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Cl(e,t,r,i=gs(r.type,i),n);case 15:return kl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),$l(e,t),t.tag=1,Oo(r)?(e=!0,Mo(t)):e=!1,Es(t,n),$s(t,r,i),Hs(t,r,i,n),Il(null,t,r,!0,e,n);case 19:return jl(e,t,n);case 22:return El(e,t,n)}throw Error(ie(156,t.tag))};var Qc="function"==typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"==typeof i){var a=i;i=function(){var e=Wc(s);a.call(e)}}$c(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=Wc(s);o.call(e)}}var s=jc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[po]=s.current,qi(8===e.nodeType?e.parentNode:e),cc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[po]=l.current,qi(8===e.nodeType?e.parentNode:e),cc((function(){$c(t,l,n,r)})),l}(n,t,e,i,r);return Wc(s)}Yc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(ie(409));$c(e,t,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){$c(null,e,null,null)})),t[po]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=En();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dn.length&&0!==t&&t<Dn[n].priority;n++);Dn.splice(n,0,e),0===n&&Fn(e)}},wn=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dn(t.pendingLanes);0!==n&&(yn(t,1|n),rc(t,Gt()),0==(6&Iu)&&(ju=Gt()+500,jo()))}break;case 13:cc((function(){var t=Ns(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Vc(e,1)}},Cn=function(e){if(13===e.tag){var t=Ns(e,134217728);null!==t&&nc(t,e,134217728,ec()),Vc(e,134217728)}},kn=function(e){if(13===e.tag){var t=tc(e),n=Ns(e,t);null!==n&&nc(n,e,t,ec()),Vc(e,t)}},En=function(){return vn},Tn=function(e,t){var n=vn;try{return vn=e,t()}finally{vn=n}},wt=function(e,t,n){switch(t){case"input":if(Xe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wo(r);if(!i)throw Error(ie(90));Ve(r),Xe(r,i)}}}break;case"textarea":it(e,n);break;case"select":null!=(t=n.value)&&tt(e,!!n.multiple,t,!1)}},xt=uc,It=cc;var ed={usingClientEntryPoint:!1,Events:[vo,bo,wo,Tt,St,uc]},td={findFiberByHostInstance:yo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ve.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Wt(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{rn=rd.inject(nd),on=rd}catch(ut){}}J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,J.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gc(t))throw Error(ie(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:we,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},J.createRoot=function(e,t){if(!Gc(e))throw Error(ie(299));var n=!1,r="",i=Qc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[po]=t.current,qi(8===e.nodeType?e.parentNode:e),new Kc(t)},J.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(ie(188));throw e=Object.keys(e).join(","),Error(ie(268,e))}return e=null===(e=Wt(t))?null:e.stateNode},J.flushSync=function(e){return cc(e)},J.hydrate=function(e,t,n){if(!Xc(t))throw Error(ie(200));return Zc(null,e,t,!0,n)},J.hydrateRoot=function(e,t,n){if(!Gc(e))throw Error(ie(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=jc(t,null,e,1,null!=n?n:null,i,0,o,s),e[po]=t.current,qi(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},J.render=function(e,t,n){if(!Xc(t))throw Error(ie(200));return Zc(null,e,t,!1,n)},J.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(ie(40));return!!e._reactRootContainer&&(cc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[po]=null}))})),!0)},J.unstable_batchedUpdates=uc,J.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(ie(200));if(null==e||void 0===e._reactInternals)throw Error(ie(38));return Zc(e,t,n,!1,r)},J.version="18.2.0-next-9e3b772b8-20220608",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),X.exports=J;var id,od=X.exports;function sd(e,t){return sd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sd(e,t)}function ad(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,sd(e,t)}id=od.createRoot,od.hydrateRoot;var ld={exports:{}};function ud(){}function cd(){}cd.resetWarningCache=ud,ld.exports=function(){function e(e,t,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:cd,resetWarningCache:ud};return n.PropTypes=n,n}();const dd=t(ld.exports);function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hd.apply(this,arguments)}function fd(e){return"/"===e.charAt(0)}function pd(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var md=!0,gd="Invariant failed";function _d(e,t){if(!e){if(md)throw new Error(gd);var n="function"==typeof t?t():t,r=n?"".concat(gd,": ").concat(n):gd;throw new Error(r)}}function yd(e){return"/"===e.charAt(0)?e:"/"+e}function vd(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function bd(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function wd(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function Cd(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=hd({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(_h){throw _h instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):_h}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&fd(e),s=t&&fd(t),a=o||s;if(e&&fd(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var u=0,c=i.length;c>=0;c--){var d=i[c];"."===d?pd(i,c):".."===d?(pd(i,c),u++):u&&(pd(i,c),u--)}if(!a)for(;u--;u)i.unshift("..");!a||""===i[0]||i[0]&&fd(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h}(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function kd(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var Ed=!("undefined"==typeof window||!window.document||!window.document.createElement);function Td(e,t){t(window.confirm(e))}var Sd="popstate",xd="hashchange";function Id(){try{return window.history.state||{}}catch(_h){return{}}}function Nd(e){void 0===e&&(e={}),Ed||_d(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,o=i.forceRefresh,s=void 0!==o&&o,a=i.getUserConfirmation,l=void 0===a?Td:a,u=i.keyLength,c=void 0===u?6:u,d=e.basename?bd(yd(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return d&&(o=vd(o,d)),Cd(o,r,n)}function f(){return Math.random().toString(36).substr(2,c)}var p=kd();function m(e){hd(x,e),x.length=t.length,p.notifyListeners(x.location,x.action)}function g(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||v(h(e.state))}function _(){v(h(Id()))}var y=!1;function v(e){y?(y=!1,m()):p.confirmTransitionTo(e,"POP",l,(function(t){t?m({action:"POP",location:e}):function(e){var t=x.location,n=w.indexOf(t.key);-1===n&&(n=0);var r=w.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(y=!0,k(i))}(e)}))}var b=h(Id()),w=[b.key];function C(e){return d+wd(e)}function k(e){t.go(e)}var E=0;function T(e){1===(E+=e)&&1===e?(window.addEventListener(Sd,g),r&&window.addEventListener(xd,_)):0===E&&(window.removeEventListener(Sd,g),r&&window.removeEventListener(xd,_))}var S=!1,x={length:t.length,action:"POP",location:b,createHref:C,push:function(e,r){var i="PUSH",o=Cd(e,r,f(),x.location);p.confirmTransitionTo(o,i,l,(function(e){if(e){var r=C(o),a=o.key,l=o.state;if(n)if(t.pushState({key:a,state:l},null,r),s)window.location.href=r;else{var u=w.indexOf(x.location.key),c=w.slice(0,u+1);c.push(o.key),w=c,m({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=Cd(e,r,f(),x.location);p.confirmTransitionTo(o,i,l,(function(e){if(e){var r=C(o),a=o.key,l=o.state;if(n)if(t.replaceState({key:a,state:l},null,r),s)window.location.replace(r);else{var u=w.indexOf(x.location.key);-1!==u&&(w[u]=o.key),m({action:i,location:o})}else window.location.replace(r)}}))},go:k,goBack:function(){k(-1)},goForward:function(){k(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return S||(T(1),S=!0),function(){return S&&(S=!1,T(-1)),t()}},listen:function(e){var t=p.appendListener(e);return T(1),function(){T(-1),t()}}};return x}var Pd={exports:{}},Rd=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)};Pd.exports=qd,Pd.exports.parse=Dd,Pd.exports.compile=function(e,t){return Ad(Dd(e,t),t)},Pd.exports.tokensToFunction=Ad,Pd.exports.tokensToRegExp=Bd;var Od=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Dd(e,t){for(var n,r=[],i=0,o=0,s="",a=t&&t.delimiter||"/";null!=(n=Od.exec(e));){var l=n[0],u=n[1],c=n.index;if(s+=e.slice(o,c),o=c+l.length,u)s+=u[1];else{var d=e[o],h=n[2],f=n[3],p=n[4],m=n[5],g=n[6],_=n[7];s&&(r.push(s),s="");var y=null!=h&&null!=d&&d!==h,v="+"===g||"*"===g,b="?"===g||"*"===g,w=n[2]||a,C=p||m;r.push({name:f||i++,prefix:h||"",delimiter:w,optional:b,repeat:v,partial:y,asterisk:!!_,pattern:C?Fd(C):_?".*":"[^"+Md(w)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function Ld(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function Ad(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",zd(t)));return function(t,r){for(var i="",o=t||{},s=(r||{}).pretty?Ld:encodeURIComponent,a=0;a<e.length;a++){var l=e[a];if("string"!=typeof l){var u,c=o[l.name];if(null==c){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(Rd(c)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(c)+"`");if(0===c.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<c.length;d++){if(u=s(c[d]),!n[a].test(u))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(u)+"`");i+=(0===d?l.prefix:l.delimiter)+u}}else{if(u=l.asterisk?encodeURI(c).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(c),!n[a].test(u))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+u+'"');i+=l.prefix+u}}else i+=l}return i}}function Md(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Fd(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function Ud(e,t){return e.keys=t,e}function zd(e){return e&&e.sensitive?"":"i"}function Bd(e,t,n){Rd(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,i=!1!==n.end,o="",s=0;s<e.length;s++){var a=e[s];if("string"==typeof a)o+=Md(a);else{var l=Md(a.prefix),u="(?:"+a.pattern+")";t.push(a),a.repeat&&(u+="(?:"+l+u+")*"),o+=u=a.optional?a.partial?l+"("+u+")?":"(?:"+l+"("+u+"))?":l+"("+u+")"}}var c=Md(n.delimiter||"/"),d=o.slice(-c.length)===c;return r||(o=(d?o.slice(0,-c.length):o)+"(?:"+c+"(?=$))?"),o+=i?"$":r&&d?"":"(?="+c+"|$)",Ud(new RegExp("^"+o,zd(n)),t)}function qd(e,t,n){return Rd(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Ud(e,t)}(e,t):Rd(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(qd(e[i],t,n).source);return Ud(new RegExp("(?:"+r.join("|")+")",zd(n)),t)}(e,t,n):function(e,t,n){return Bd(Dd(e,n),t,n)}(e,t,n)}const jd=t(Pd.exports);var $d={},Wd="function"==typeof Symbol&&Symbol.for,Hd=Wd?Symbol.for("react.element"):60103,Vd=Wd?Symbol.for("react.portal"):60106,Qd=Wd?Symbol.for("react.fragment"):60107,Kd=Wd?Symbol.for("react.strict_mode"):60108,Yd=Wd?Symbol.for("react.profiler"):60114,Gd=Wd?Symbol.for("react.provider"):60109,Xd=Wd?Symbol.for("react.context"):60110,Jd=Wd?Symbol.for("react.async_mode"):60111,Zd=Wd?Symbol.for("react.concurrent_mode"):60111,eh=Wd?Symbol.for("react.forward_ref"):60112,th=Wd?Symbol.for("react.suspense"):60113,nh=Wd?Symbol.for("react.suspense_list"):60120,rh=Wd?Symbol.for("react.memo"):60115,ih=Wd?Symbol.for("react.lazy"):60116,oh=Wd?Symbol.for("react.block"):60121,sh=Wd?Symbol.for("react.fundamental"):60117,ah=Wd?Symbol.for("react.responder"):60118,lh=Wd?Symbol.for("react.scope"):60119;
/** @license React v16.13.1
             * react-is.production.min.js
             *
             * Copyright (c) Facebook, Inc. and its affiliates.
             *
             * This source code is licensed under the MIT license found in the
             * LICENSE file in the root directory of this source tree.
             */function uh(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Hd:switch(e=e.type){case Jd:case Zd:case Qd:case Yd:case Kd:case th:return e;default:switch(e=e&&e.$$typeof){case Xd:case eh:case ih:case rh:case Gd:return e;default:return t}}case Vd:return t}}}function ch(e){return uh(e)===Zd}function dh(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}$d.AsyncMode=Jd,$d.ConcurrentMode=Zd,$d.ContextConsumer=Xd,$d.ContextProvider=Gd,$d.Element=Hd,$d.ForwardRef=eh,$d.Fragment=Qd,$d.Lazy=ih,$d.Memo=rh,$d.Portal=Vd,$d.Profiler=Yd,$d.StrictMode=Kd,$d.Suspense=th,$d.isAsyncMode=function(e){return ch(e)||uh(e)===Jd},$d.isConcurrentMode=ch,$d.isContextConsumer=function(e){return uh(e)===Xd},$d.isContextProvider=function(e){return uh(e)===Gd},$d.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Hd},$d.isForwardRef=function(e){return uh(e)===eh},$d.isFragment=function(e){return uh(e)===Qd},$d.isLazy=function(e){return uh(e)===ih},$d.isMemo=function(e){return uh(e)===rh},$d.isPortal=function(e){return uh(e)===Vd},$d.isProfiler=function(e){return uh(e)===Yd},$d.isStrictMode=function(e){return uh(e)===Kd},$d.isSuspense=function(e){return uh(e)===th},$d.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Qd||e===Zd||e===Yd||e===Kd||e===th||e===nh||"object"==typeof e&&null!==e&&(e.$$typeof===ih||e.$$typeof===rh||e.$$typeof===Gd||e.$$typeof===Xd||e.$$typeof===eh||e.$$typeof===sh||e.$$typeof===ah||e.$$typeof===lh||e.$$typeof===oh)},$d.typeOf=uh;var hh={exports:{}},fh={},ph="function"==typeof Symbol&&Symbol.for,mh=ph?Symbol.for("react.element"):60103,gh=ph?Symbol.for("react.portal"):60106,_h=ph?Symbol.for("react.fragment"):60107,yh=ph?Symbol.for("react.strict_mode"):60108,vh=ph?Symbol.for("react.profiler"):60114,bh=ph?Symbol.for("react.provider"):60109,wh=ph?Symbol.for("react.context"):60110,Ch=ph?Symbol.for("react.async_mode"):60111,kh=ph?Symbol.for("react.concurrent_mode"):60111,Eh=ph?Symbol.for("react.forward_ref"):60112,Th=ph?Symbol.for("react.suspense"):60113,Sh=ph?Symbol.for("react.suspense_list"):60120,xh=ph?Symbol.for("react.memo"):60115,Ih=ph?Symbol.for("react.lazy"):60116,Nh=ph?Symbol.for("react.block"):60121,Ph=ph?Symbol.for("react.fundamental"):60117,Rh=ph?Symbol.for("react.responder"):60118,Oh=ph?Symbol.for("react.scope"):60119;function Dh(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case mh:switch(e=e.type){case Ch:case kh:case _h:case vh:case yh:case Th:return e;default:switch(e=e&&e.$$typeof){case wh:case Eh:case Ih:case xh:case bh:return e;default:return t}}case gh:return t}}}function Lh(e){return Dh(e)===kh}fh.AsyncMode=Ch,fh.ConcurrentMode=kh,fh.ContextConsumer=wh,fh.ContextProvider=bh,fh.Element=mh,fh.ForwardRef=Eh,fh.Fragment=_h,fh.Lazy=Ih,fh.Memo=xh,fh.Portal=gh,fh.Profiler=vh,fh.StrictMode=yh,fh.Suspense=Th,fh.isAsyncMode=function(e){return Lh(e)||Dh(e)===Ch},fh.isConcurrentMode=Lh,fh.isContextConsumer=function(e){return Dh(e)===wh},fh.isContextProvider=function(e){return Dh(e)===bh},fh.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===mh},fh.isForwardRef=function(e){return Dh(e)===Eh},fh.isFragment=function(e){return Dh(e)===_h},fh.isLazy=function(e){return Dh(e)===Ih},fh.isMemo=function(e){return Dh(e)===xh},fh.isPortal=function(e){return Dh(e)===gh},fh.isProfiler=function(e){return Dh(e)===vh},fh.isStrictMode=function(e){return Dh(e)===yh},fh.isSuspense=function(e){return Dh(e)===Th},fh.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===_h||e===kh||e===vh||e===yh||e===Th||e===Sh||"object"==typeof e&&null!==e&&(e.$$typeof===Ih||e.$$typeof===xh||e.$$typeof===bh||e.$$typeof===wh||e.$$typeof===Eh||e.$$typeof===Ph||e.$$typeof===Rh||e.$$typeof===Oh||e.$$typeof===Nh)},fh.typeOf=Dh,hh.exports=fh;var Ah=hh.exports,Mh={};Mh[Ah.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Mh[Ah.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var Fh=1073741823,Uh="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},zh=B.createContext||function(e,t){var n,r,i,o="__create-react-context-"+(Uh[i="__global_unique_id__"]=(Uh[i]||0)+1)+"__",s=function(e){function n(){for(var t,n,r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).emitter=(n=t.props.value,r=[],{on:function(e){r.push(e)},off:function(e){r=r.filter((function(t){return t!==e}))},get:function(){return n},set:function(e,t){n=e,r.forEach((function(e){return e(n,t)}))}}),t}ad(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,i)?(n="function"==typeof t?t(r,i):Fh,0!=(n|=0)&&this.emitter.set(e.value,n)):n=0}},r.render=function(){return this.props.children},n}(B.Component);s.childContextTypes=((n={})[o]=dd.object.isRequired,n);var a=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}ad(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?Fh:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?Fh:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(B.Component);return a.contextTypes=((r={})[o]=dd.object,r),{Provider:s,Consumer:a}},Bh=function(e){var t=zh();return t.displayName=e,t},qh=Bh("Router-History"),jh=Bh("Router"),$h=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}ad(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return B.createElement(jh.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},B.createElement(qh.Provider,{children:this.props.children||null,value:this.props.history}))},t}(B.Component);B.Component,B.Component;var Wh={},Hh=1e4,Vh=0;function Qh(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,s=n.strict,a=void 0!==s&&s,l=n.sensitive,u=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Wh[n]||(Wh[n]={});if(r[e])return r[e];var i=[],o={regexp:jd(e,i,t),keys:i};return Vh<Hh&&(r[e]=o,Vh++),o}(n,{end:o,strict:a,sensitive:u}),i=r.regexp,s=r.keys,l=i.exec(e);if(!l)return null;var c=l[0],d=l.slice(1),h=e===c;return o&&!h?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:h,params:s.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var Kh=function(e){function t(){return e.apply(this,arguments)||this}return ad(t,e),t.prototype.render=function(){var e=this;return B.createElement(jh.Consumer,null,(function(t){t||_d(!1);var n=e.props.location||t.location,r=hd({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?Qh(n.pathname,e.props):t.match}),i=e.props,o=i.children,s=i.component,a=i.render;return Array.isArray(o)&&function(e){return 0===B.Children.count(e)}(o)&&(o=null),B.createElement(jh.Provider,{value:r},r.match?o?"function"==typeof o?o(r):o:s?B.createElement(s,r):a?a(r):null:"function"==typeof o?o(r):null)}))},t}(B.Component);B.Component,B.Component,B.useContext;var Yh=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Nd(t.props),t}return ad(t,e),t.prototype.render=function(){return B.createElement($h,{history:this.history,children:this.props.children})},t}(B.Component);B.Component;var Gh=function(e,t){return"function"==typeof e?e(t):e},Xh=function(e,t){return"string"==typeof e?Cd(e,null,null,t):e},Jh=function(e){return e},Zh=B.forwardRef;void 0===Zh&&(Zh=Jh);var ef=Zh((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=dh(e,["innerRef","navigate","onClick"]),s=o.target,a=hd({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return a.ref=Jh!==Zh&&t||n,B.createElement("a",a)})),tf=Zh((function(e,t){var n=e.component,r=void 0===n?ef:n,i=e.replace,o=e.to,s=e.innerRef,a=dh(e,["component","replace","to","innerRef"]);return B.createElement(jh.Consumer,null,(function(e){e||_d(!1);var n=e.history,l=Xh(Gh(o,e.location),e.location),u=l?n.createHref(l):"",c=hd({},a,{href:u,navigate:function(){var t=Gh(o,e.location),r=wd(e.location)===wd(Xh(t));(i||r?n.replace:n.push)(t)}});return Jh!==Zh?c.ref=t||s:c.innerRef=s,B.createElement(r,c)}))})),nf=function(e){return e},rf=B.forwardRef;void 0===rf&&(rf=nf),rf((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.activeClassName,o=void 0===i?"active":i,s=e.activeStyle,a=e.className,l=e.exact,u=e.isActive,c=e.location,d=e.sensitive,h=e.strict,f=e.style,p=e.to,m=e.innerRef,g=dh(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return B.createElement(jh.Consumer,null,(function(e){e||_d(!1);var n=c||e.location,i=Xh(Gh(p,n),n),_=i.pathname,y=_&&_.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),v=y?Qh(n.pathname,{path:y,exact:l,sensitive:d,strict:h}):null,b=!!(u?u(v,n):v),w="function"==typeof a?a(b):a,C="function"==typeof f?f(b):f;b&&(w=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(w,o),C=hd({},C,s));var k=hd({"aria-current":b&&r||null,className:w,style:C,to:i},g);return nf!==rf?k.ref=t||m:k.innerRef=m,B.createElement(tf,k)}))}));
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const of=!1,sf="${JSCORE_VERSION}",af=function(e,t){if(!e)throw lf(t)},lf=function(e){return new Error("Firebase Database ("+sf+") INTERNAL ASSERT FAILED: "+e)},uf=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},cf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(uf(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new df;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class df extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hf=function(e){const t=uf(e);return cf.encodeByteArray(t,!0)},ff=function(e){return hf(e).replace(/\./g,"")},pf=function(e){try{return cf.decodeString(e,!0)}catch(_h){console.error("base64Decode failed: ",_h)}return null};function mf(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=mf(e[n],t[n]));return e}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const gf=()=>
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,_f=()=>{try{return gf()||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e={}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(_h){return}const t=e&&pf(e[1]);return t&&JSON.parse(t)})()}catch(_h){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${_h}`)}},yf=()=>{var e;return null===(e=_f())||void 0===e?void 0:e.config};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class vf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function bf(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ff(JSON.stringify({alg:"none",type:"JWT"})),ff(JSON.stringify(o)),""].join(".")}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function wf(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function Cf(){return!0===of}class kf extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,kf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ef.prototype.create)}}class Ef{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(Tf,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new kf(r,s,n)}}const Tf=/\{\$([^}]+)}/g;
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Sf(e){return JSON.parse(e)}function xf(e){return JSON.stringify(e)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const If=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=Sf(pf(o[0])||""),n=Sf(pf(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(_h){}return{header:t,claims:n,data:r,signature:i}};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function Nf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Pf(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Rf(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Of(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Df(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Lf(n)&&Lf(o)){if(!Df(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Lf(e){return null!==e&&"object"==typeof e}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class Af{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let c=0;c<16;c++)n[c]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let c=0;c<16;c++)n[c]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let c=16;c<80;c++){const e=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(let c=0;c<80;c++){c<40?c<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):c<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+u+i+n[c]&4294967295;u=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function Mf(e,t){const n=new Ff(e,t);return n.subscribe.bind(n)}class Ff{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Uf),void 0===r.error&&(r.error=Uf),void 0===r.complete&&(r.complete=Uf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(_h){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(_h){"undefined"!=typeof console&&console.error&&console.error(_h)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Uf(){}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const zf=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Bf(e,t){return`${e} failed: ${t} argument `}function qf(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Bf(e,t)+"must be a valid function.")}function jf(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Bf(e,t)+"must be a valid context object.")}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const $f=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function Wf(e){return e&&e._delegate?e._delegate:e}class Hf{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Vf="[DEFAULT]";
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Qf{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new vf;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(_h){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(_h){if(r)return null;throw _h}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e))try{this.getOrInitializeService({instanceIdentifier:Vf})}catch(_h){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(_h){}}}}clearInstance(e=Vf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=Vf){return this.instances.has(e)}getOptions(e=Vf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(i)&&o.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===Vf?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e=Vf){return this.component?this.component.multipleInstances?e:Vf:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Kf{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Qf(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Yf=[];var Gf;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Gf||(Gf={}));const Xf={debug:Gf.DEBUG,verbose:Gf.VERBOSE,info:Gf.INFO,warn:Gf.WARN,error:Gf.ERROR,silent:Gf.SILENT},Jf=Gf.INFO,Zf={[Gf.DEBUG]:"log",[Gf.VERBOSE]:"log",[Gf.INFO]:"info",[Gf.WARN]:"warn",[Gf.ERROR]:"error"},ep=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=Zf[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class tp{constructor(e){this.name=e,this._logLevel=Jf,this._logHandler=ep,this._userLogHandler=null,Yf.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Gf))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Xf[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Gf.DEBUG,...e),this._logHandler(this,Gf.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Gf.VERBOSE,...e),this._logHandler(this,Gf.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Gf.INFO,...e),this._logHandler(this,Gf.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Gf.WARN,...e),this._logHandler(this,Gf.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Gf.ERROR,...e),this._logHandler(this,Gf.ERROR,...e)}}const np=(e,t)=>t.some((t=>e instanceof t));let rp,ip;const op=new WeakMap,sp=new WeakMap,ap=new WeakMap,lp=new WeakMap,up=new WeakMap;let cp={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return sp.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ap.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fp(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function dp(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ip||(ip=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(pp(this),t),fp(op.get(this))}:function(...t){return fp(e.apply(pp(this),t))}:function(t,...n){const r=e.call(pp(this),t,...n);return ap.set(r,t.sort?t.sort():[t]),fp(r)}}function hp(e){return"function"==typeof e?dp(e):(e instanceof IDBTransaction&&function(e){if(sp.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));sp.set(e,t)}(e),np(e,rp||(rp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,cp):e)}function fp(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(fp(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&op.set(t,e)})).catch((()=>{})),up.set(t,e),t}(e);if(lp.has(e))return lp.get(e);const t=hp(e);return t!==e&&(lp.set(e,t),up.set(t,e)),t}const pp=e=>up.get(e),mp=["get","getKey","getAll","getAllKeys","count"],gp=["put","add","delete","clear"],_p=new Map;function yp(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(_p.get(t))return _p.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=gp.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!mp.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return _p.set(t,o),o}var vp;vp=cp,cp={...vp,get:(e,t,n)=>yp(e,t)||vp.get(e,t,n),has:(e,t)=>!!yp(e,t)||vp.has(e,t)};
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class bp{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const wp="@firebase/app",Cp="0.9.12",kp=new tp("@firebase/app"),Ep="[DEFAULT]",Tp={[wp]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Sp=new Map,xp=new Map;function Ip(e,t){try{e.container.addComponent(t)}catch(_h){kp.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,_h)}}function Np(e,t){e.container.addOrOverwriteComponent(t)}function Pp(e){const t=e.name;if(xp.has(t))return kp.debug(`There were multiple attempts to register component ${t}.`),!1;xp.set(t,e);for(const n of Sp.values())Ip(n,e);return!0}function Rp(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const Op=new Ef("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
let Dp=class{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Hf("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Op.create("app-deleted",{appName:this._name})}};
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Lp="9.22.2";function Ap(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:Ep,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw Op.create("bad-app-name",{appName:String(i)});if(n||(n=yf()),!n)throw Op.create("no-options");const o=Sp.get(i);if(o){if(Df(n,o.options)&&Df(r,o.config))return o;throw Op.create("duplicate-app",{appName:i})}const s=new Kf(i);for(const l of xp.values())s.addComponent(l);const a=new Dp(n,r,s);return Sp.set(i,a),a}async function Mp(e){const t=e.name;Sp.has(t)&&(Sp.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Fp(e,t,n){var r;let i=null!==(r=Tp[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void kp.warn(e.join(" "))}Pp(new Hf(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function Up(e,t){if(null!==e&&"function"!=typeof e)throw Op.create("invalid-log-argument");!function(e,t){for(const n of Yf){let r=null;t&&t.level&&(r=Xf[t.level]),n.userLogHandler=null===e?null:(t,n,...i)=>{const o=i.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:Gf[n].toLowerCase(),message:o,args:i,type:t.name})}}}(e,t)}function zp(e){var t;t=e,Yf.forEach((e=>{e.setLogLevel(t)}))}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Bp="firebase-heartbeat-database",qp=1,jp="firebase-heartbeat-store";let $p=null;function Wp(){return $p||($p=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=fp(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(fp(s.result),e.oldVersion,e.newVersion,fp(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Bp,qp,{upgrade:(e,t)=>{0===t&&e.createObjectStore(jp)}}).catch((e=>{throw Op.create("idb-open",{originalErrorMessage:e.message})}))),$p}async function Hp(e,t){try{const n=(await Wp()).transaction(jp,"readwrite"),r=n.objectStore(jp);await r.put(t,Vp(e)),await n.done}catch(_h){if(_h instanceof kf)kp.warn(_h.message);else{const t=Op.create("idb-set",{originalErrorMessage:null==_h?void 0:_h.message});kp.warn(t.message)}}}function Vp(e){return`${e.name}!${e.options.appId}`}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Qp{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Yp(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Kp();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Kp(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Gp(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Gp(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=ff(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Kp(){return(new Date).toISOString().substring(0,10)}class Yp{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(_h){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Cm){t(Cm)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Wp();return await t.transaction(jp).objectStore(jp).get(Vp(e))}catch(_h){if(_h instanceof kf)kp.warn(_h.message);else{const t=Op.create("idb-get",{originalErrorMessage:null==_h?void 0:_h.message});kp.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Hp(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Hp(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Gp(e){return ff(JSON.stringify({version:2,heartbeats:e})).length}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var Xp;Xp="",Pp(new Hf("platform-logger",(e=>new bp(e)),"PRIVATE")),Pp(new Hf("heartbeat",(e=>new Qp(e)),"PRIVATE")),Fp(wp,Cp,Xp),Fp(wp,Cp,"esm2017"),Fp("fire-js","");const Jp=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:kf,SDK_VERSION:Lp,_DEFAULT_ENTRY_NAME:Ep,_addComponent:Ip,_addOrOverwriteComponent:Np,_apps:Sp,_clearComponents:function(){xp.clear()},_components:xp,_getProvider:Rp,_registerComponent:Pp,_removeServiceInstance:function(e,t,n=Ep){Rp(e,t).clearInstance(n)},deleteApp:Mp,getApp:function(e=Ep){const t=Sp.get(e);if(!t&&e===Ep&&yf())return Ap();if(!t)throw Op.create("no-app",{appName:e});return t},getApps:function(){return Array.from(Sp.values())},initializeApp:Ap,onLog:Up,registerVersion:Fp,setLogLevel:zp},Symbol.toStringTag,{value:"Module"}));
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Zp{constructor(e,t){this._delegate=e,this.firebase=t,Ip(e,new Hf("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Mp(this._delegate))))}_getService(e,t=Ep){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=Ep){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Ip(this._delegate,e)}_addOrOverwriteComponent(e){Np(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const em=new Ef("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),tm=
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function e(){const t=
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function(e){const t={},n={__esModule:!0,initializeApp:function(r,i={}){const o=Ap(r,i);if(Nf(t,o.name))return t[o.name];const s=new e(o,n);return t[o.name]=s,s},app:r,registerVersion:Fp,setLogLevel:zp,onLog:Up,apps:null,SDK_VERSION:Lp,INTERNAL:{registerComponent:function(t){const i=t.name,o=i.replace("-compat","");if(Pp(t)&&"PUBLIC"===t.type){const s=(e=r())=>{if("function"!=typeof e[o])throw em.create("invalid-app-argument",{appName:i});return e[o]()};void 0!==t.serviceProps&&mf(s,t.serviceProps),n[o]=s,e.prototype[o]=function(...e){return this._getService.bind(this,i).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[o]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:Jp}};function r(e){if(!Nf(t,e=e||Ep))throw em.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((e=>t[e]))}}),r.App=e,n}(Zp);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){mf(t,e)},createSubscribe:Mf,ErrorFactory:Ef,deepExtend:mf}),t}(),nm=new tp("@firebase/app-compat");
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){nm.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&nm.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const rm=tm;!
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function(e){Fp("@firebase/app-compat","0.2.12",e)}(),
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
rm.registerVersion("firebase","9.22.2","app-compat");const im="@firebase/database",om="0.14.4";
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let sm="";function am(e){sm=e}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class lm{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),xf(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Sf(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class um{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Nf(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const cm=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new lm(t)}}catch(_h){}return new um},dm=cm("localStorage"),hm=cm("sessionStorage"),fm=new tp("@firebase/database"),pm=function(){let e=1;return function(){return e++}}(),mm=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,af(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Af;n.update(t);const r=n.digest();return cf.encodeByteArray(r)},gm=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=gm.apply(null,r):t+="object"==typeof r?xf(r):r,t+=" "}return t};let _m=null,ym=!0;const vm=function(e,t){af(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(fm.logLevel=Gf.VERBOSE,_m=fm.log.bind(fm),t&&hm.set("logging_enabled",!0)):"function"==typeof e?_m=e:(_m=null,hm.remove("logging_enabled"))},bm=function(...e){if(!0===ym&&(ym=!1,null===_m&&!0===hm.get("logging_enabled")&&vm(!0)),_m){const t=gm.apply(null,e);_m(t)}},wm=function(e){return function(...t){bm(e,...t)}},Cm=function(...e){const t="FIREBASE INTERNAL ERROR: "+gm(...e);fm.error(t)},km=function(...e){const t=`FIREBASE FATAL ERROR: ${gm(...e)}`;throw fm.error(t),new Error(t)},Em=function(...e){const t="FIREBASE WARNING: "+gm(...e);fm.warn(t)},Tm=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Sm="[MIN_NAME]",xm="[MAX_NAME]",Im=function(e,t){if(e===t)return 0;if(e===Sm||t===xm)return-1;if(t===Sm||e===xm)return 1;{const n=Mm(e),r=Mm(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Nm=function(e,t){return e===t?0:e<t?-1:1},Pm=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+xf(t))},Rm=function(e){if("object"!=typeof e||null===e)return xf(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=xf(t[r]),n+=":",n+=Rm(e[t[r]]);return n+="}",n},Om=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Dm(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Lm=function(e){af(!Tm(e),"Invalid JSON number");const t=1023;let n,r,i,o,s;0===e?(r=0,i=0,n=1/e==-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let u="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),u+=e}return u.toLowerCase()},Am=new RegExp("^-?(0*)\\d{1,10}$"),Mm=function(e){if(Am.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Fm=function(e){try{e()}catch(_h){setTimeout((()=>{const t=_h.stack||"";throw Em("Exception was thrown by user callback.",t),_h}),Math.floor(0))}},Um=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class zm{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){Em(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Bm{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(bm("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Em(e)}}class qm{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}qm.OWNER="owner";
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const jm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$m="ac",Wm="websocket",Hm="long_polling";
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class Vm{constructor(e,t,n,r,i=!1,o="",s=!1,a=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=dm.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&dm.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function Qm(e,t,n){let r;if(af("string"==typeof t,"typeof type must == string"),af("object"==typeof n,"typeof params must == object"),t===Wm)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Hm)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return Dm(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Km{constructor(){this.counters_={}}incrementCounter(e,t=1){Nf(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return mf(void 0,this.counters_)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Ym={},Gm={};function Xm(e){const t=e.toString();return Ym[t]||(Ym[t]=new Km),Ym[t]}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class Jm{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Fm((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Zm="start";class eg{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=wm(e),this.stats_=Xm(t),this.urlFn=e=>(this.appCheckToken&&(e[$m]=this.appCheckToken),Qm(t,Hm,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Jm(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new tg(((...e)=>{const[t,n,r,i,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===Zm)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Zm]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[$m]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&jm.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){eg.forceAllow_=!0}static forceDisallow(){eg.forceDisallow_=!0}static isAvailable(){return!!eg.forceAllow_||!(eg.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=xf(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=hf(t),r=Om(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=xf(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class tg{constructor(e,t,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=pm(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=tg.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(_h){bm("frame writing exception"),_h.stack&&bm(_h.stack),bm(_h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||bm("No IE domain setting required")}catch(_h){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{bm("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(_h){}}),Math.floor(1))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let ng=null;"undefined"!=typeof MozWebSocket?ng=MozWebSocket:"undefined"!=typeof WebSocket&&(ng=WebSocket);class rg{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=wm(this.connId),this.stats_=Xm(t),this.connURL=rg.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={v:"5"};return"undefined"!=typeof location&&location.hostname&&jm.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[$m]=r),i&&(o.p=i),Qm(e,Wm,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,dm.set("previous_websocket_failure",!0);try{let e;Cf(),this.mySock=new ng(this.connURL,[],e)}catch(_h){this.log_("Error instantiating WebSocket.");const t=_h.message||_h.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){rg.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ng&&!rg.forceDisallow_}static previouslyFailed(){return dm.isInMemoryStorage||!0===dm.get("previous_websocket_failure")}markConnectionHealthy(){dm.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Sf(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(af(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=xf(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Om(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(_h){this.log_("Exception thrown from WebSocket.send():",_h.message||_h.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}rg.responsesRequiredToBeHealthy=2,rg.healthyTimeout=3e4;
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class ig{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[eg,rg]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=rg&&rg.isAvailable();let n=t&&!rg.previouslyFailed();if(e.webSocketOnly&&(t||Em("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[rg];else{const e=this.transports_=[];for(const t of ig.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);ig.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ig.globalTransportInitialized_=!1;class og{constructor(e,t,n,r,i,o,s,a,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=wm("c:"+this.id+":"),this.transportManager_=new ig(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Um((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Pm("t",e),n=Pm("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Pm("t",e),n=Pm("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Pm("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Cm("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cm("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&Em("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Um((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Um((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(dm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class sg{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class ag{constructor(e){this.allowedEvents_=e,this.listeners_={},af(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){af(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class lg extends ag{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||wf()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new lg}getInitialEvent(e){return af("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const ug=32,cg=768;class dg{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function hg(){return new dg("")}function fg(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function pg(e){return e.pieces_.length-e.pieceNum_}function mg(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new dg(e.pieces_,t)}function gg(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function _g(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function yg(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new dg(t,0)}function vg(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof dg)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new dg(n,0)}function bg(e){return e.pieceNum_>=e.pieces_.length}function wg(e,t){const n=fg(e),r=fg(t);if(null===n)return t;if(n===r)return wg(mg(e),mg(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Cg(e,t){const n=_g(e,0),r=_g(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=Im(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function kg(e,t){if(pg(e)!==pg(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Eg(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(pg(e)>pg(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Tg{constructor(e,t){this.errorPrefix_=t,this.parts_=_g(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=$f(this.parts_[n]);Sg(this)}}function Sg(e){if(e.byteLength_>cg)throw new Error(e.errorPrefix_+"has a key path longer than "+cg+" bytes ("+e.byteLength_+").");if(e.parts_.length>ug)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ug+") or object contains a cycle "+xg(e))}function xg(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Ig extends ag{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new Ig}getInitialEvent(e){return af("visible"===e,"Unknown event type: "+e),[this.visible_]}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Ng=1e3;class Pg extends sg{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=Pg.nextPersistentConnectionId_++,this.log_=wm("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ng,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Cf())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ig.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&lg.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(xf(i)),af(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new vf,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),af(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),af(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,s=i.s;Pg.warnOnListenWarnings_(o,t),(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&Nf(e,"w")){const n=Pf(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Em(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=If(e).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=If(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),af(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+xf(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Cm("Unrecognized action received from server: "+xf(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){af(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ng,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ng,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ng),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Pg.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},l=function(e){af(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?bm("getToken() completed but was canceled"):(bm("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new og(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{Em(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(Cm){this.log_("Failed to get token: "+Cm),o||(this.repoInfo_.nodeAdmin&&Em(Cm),a())}}}interrupt(e){bm("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){bm("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Rf(this.interruptReasons_)&&(this.reconnectDelay_=Ng,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>Rm(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new dg(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){bm("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){bm("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};e["sdk.js."+sm.replace(/\./g,"-")]=1,wf()?e["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=lg.getInstance().currentlyOnline();return Rf(this.interruptReasons_)&&e}}Pg.nextPersistentConnectionId_=0,Pg.nextConnectionId_=0;
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class Rg{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Rg(e,t)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Og{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Rg(Sm,e),r=new Rg(Sm,t);return 0!==this.compare(n,r)}minPost(){return Rg.MIN}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let Dg;class Lg extends Og{static get __EMPTY_NODE(){return Dg}static set __EMPTY_NODE(e){Dg=e}compare(e,t){return Im(e.name,t.name)}isDefinedOn(e){throw lf("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Rg.MIN}maxPost(){return new Rg(xm,Dg)}makePost(e,t){return af("string"==typeof e,"KeyIndex indexValue must always be a string."),new Rg(e,Dg)}toString(){return".key"}}const Ag=new Lg;
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Mg{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Fg{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Fg.RED,this.left=null!=r?r:Ug.EMPTY_NODE,this.right=null!=i?i:Ug.EMPTY_NODE}copy(e,t,n,r,i){return new Fg(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ug.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ug.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Fg.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Fg.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Fg.RED=!0,Fg.BLACK=!1;class Ug{constructor(e,t=Ug.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ug(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Fg.BLACK,null,null))}remove(e){return new Ug(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Fg.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Mg(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Mg(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Mg(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Mg(this.root_,null,this.comparator_,!0,e)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function zg(e,t){return Im(e.name,t.name)}function Bg(e,t){return Im(e,t)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let qg;Ug.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new Fg(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const jg=function(e){return"number"==typeof e?"number:"+Lm(e):"string:"+e},$g=function(e){if(e.isLeafNode()){const t=e.val();af("string"==typeof t||"number"==typeof t||"object"==typeof t&&Nf(t,".sv"),"Priority must be a string or number.")}else af(e===qg||e.isEmpty(),"priority of unexpected type.");af(e===qg||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
let Wg,Hg,Vg;class Qg{constructor(e,t=Qg.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,af(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),$g(this.priorityNode_)}static set __childrenNodeConstructor(e){Wg=e}static get __childrenNodeConstructor(){return Wg}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Qg(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Qg.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return bg(e)?this:".priority"===fg(e)?this.priorityNode_:Qg.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Qg.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=fg(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(af(".priority"!==n||1===pg(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Qg.__childrenNodeConstructor.EMPTY_NODE.updateChild(mg(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+jg(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Lm(this.value_):this.value_,this.lazyHash_=mm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Qg.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Qg.__childrenNodeConstructor?-1:(af(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Qg.VALUE_TYPE_ORDER.indexOf(t),i=Qg.VALUE_TYPE_ORDER.indexOf(n);return af(r>=0,"Unknown leaf type: "+t),af(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Qg.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Kg=new class extends Og{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Im(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Rg.MIN}maxPost(){return new Rg(xm,new Qg("[PRIORITY-POST]",Vg))}makePost(e,t){const n=Hg(e);return new Rg(t,new Qg("[PRIORITY-POST]",n))}toString(){return".priority"}},Yg=Math.log(2);
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Gg{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Yg,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Xg=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new Fg(a,s.node,Fg.BLACK,null,null);{const l=parseInt(o/2,10)+t,u=i(t,l),c=i(l+1,r);return s=e[l],a=n?n(s):s,new Fg(a,s.node,Fg.BLACK,u,c)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const u=i(o+1,a),c=e[o],d=n?n(c):c;l(new Fg(d,c.node,r,null,u))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Fg.BLACK):(a(r,Fg.BLACK),a(r,Fg.RED))}return o}(new Gg(e.length));return new Ug(r||t,o)};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let Jg;const Zg={};class e_{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return af(Zg&&Kg,"ChildrenNode.ts has not been loaded"),Jg=Jg||new e_({".priority":Zg},{".priority":Kg}),Jg}get(e){const t=Pf(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ug?t:null}hasIndex(e){return Nf(this.indexSet_,e.toString())}addIndex(e,t){af(e!==Ag,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Rg.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?Xg(n,e.getCompare()):Zg;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const u=Object.assign({},this.indexes_);return u[a]=o,new e_(u,l)}addToIndexes(e,t){const n=Of(this.indexes_,((n,r)=>{const i=Pf(this.indexSet_,r);if(af(i,"Missing index implementation for "+r),n===Zg){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Rg.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),Xg(n,i.getCompare())}return Zg}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Rg(e.name,r))),i.insert(e,e.node)}}));return new e_(n,this.indexSet_)}removeFromIndexes(e,t){const n=Of(this.indexes_,(n=>{if(n===Zg)return n;{const r=t.get(e.name);return r?n.remove(new Rg(e.name,r)):n}}));return new e_(n,this.indexSet_)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let t_;class n_{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&$g(this.priorityNode_),this.children_.isEmpty()&&af(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return t_||(t_=new n_(new Ug(Bg),null,e_.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||t_}updatePriority(e){return this.children_.isEmpty()?this:new n_(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?t_:t}}getChild(e){const t=fg(e);return null===t?this:this.getImmediateChild(t).getChild(mg(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(af(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Rg(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?t_:this.priorityNode_;return new n_(r,o,i)}}updateChild(e,t){const n=fg(e);if(null===n)return t;{af(".priority"!==fg(e)||1===pg(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(mg(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Kg,((o,s)=>{t[o]=s.val(e),n++,i&&n_.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+jg(this.getPriority().val())+":"),this.forEachChild(Kg,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":mm(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Rg(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Rg(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Rg(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,Rg.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,Rg.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===r_?-1:0}withIndex(e){if(e===Ag||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new n_(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ag||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Kg),n=t.getIterator(Kg);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===Ag?null:this.indexMap_.get(e.toString())}}n_.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const r_=new class extends n_{constructor(){super(new Ug(Bg),n_.EMPTY_NODE,e_.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return n_.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Rg,{MIN:{value:new Rg(Sm,n_.EMPTY_NODE)},MAX:{value:new Rg(xm,r_)}}),Lg.__EMPTY_NODE=n_.EMPTY_NODE,Qg.__childrenNodeConstructor=n_,qg=r_,function(e){Vg=e}(r_);
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const i_=!0;function o_(e,t=null){if(null===e)return n_.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),af(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Qg(e,o_(t));if(e instanceof Array||!i_){let n=n_.EMPTY_NODE;return Dm(e,((t,r)=>{if(Nf(e,t)&&"."!==t.substring(0,1)){const e=o_(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(o_(t))}{const n=[];let r=!1;if(Dm(e,((e,t)=>{if("."!==e.substring(0,1)){const i=o_(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Rg(e,i)))}})),0===n.length)return n_.EMPTY_NODE;const i=Xg(n,zg,(e=>e.name),Bg);if(r){const e=Xg(n,Kg.getCompare());return new n_(i,o_(t),new e_({".priority":e},{".priority":Kg}))}return new n_(i,o_(t),e_.Default)}}!function(e){Hg=e}(o_);
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class s_ extends Og{constructor(e){super(),this.indexPath_=e,af(!bg(e)&&".priority"!==fg(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Im(e.name,t.name):i}makePost(e,t){const n=o_(e),r=n_.EMPTY_NODE.updateChild(this.indexPath_,n);return new Rg(t,r)}maxPost(){const e=n_.EMPTY_NODE.updateChild(this.indexPath_,r_);return new Rg(xm,e)}toString(){return _g(this.indexPath_,0).join("/")}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const a_=new class extends Og{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Im(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Rg.MIN}maxPost(){return Rg.MAX}makePost(e,t){const n=o_(e);return new Rg(t,n)}toString(){return".value"}};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function l_(e){return{type:"value",snapshotNode:e}}function u_(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function c_(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function d_(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class h_{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){af(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(c_(t,s)):af(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(u_(t,n)):o.trackChildChange(d_(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Kg,((e,r)=>{t.hasChild(e)||n.trackChildChange(c_(e,r))})),t.isLeafNode()||t.forEachChild(Kg,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(d_(t,r,i))}else n.trackChildChange(u_(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?n_.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class f_{constructor(e){this.indexedFilter_=new h_(e.getIndex()),this.index_=e.getIndex(),this.startPost_=f_.getStartPost_(e),this.endPost_=f_.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new Rg(t,n))||(n=n_.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=n_.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(n_.EMPTY_NODE);const i=this;return t.forEachChild(Kg,((e,t)=>{i.matches(new Rg(e,t))||(r=r.updateImmediateChild(e,n_.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class p_{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new f_(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new Rg(t,n))||(n=n_.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=n_.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=n_.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(n_.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,n_.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;af(s.numChildren()===this.limit_,"");const a=new Rg(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),u=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let c=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=c&&(c.name===t||s.hasChild(c.name));)c=r.getChildAfterChild(this.index_,c,this.reverse_);const d=null==c?1:o(c,a);if(u&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(d_(t,n,e)),s.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(c_(t,e));const n=s.updateImmediateChild(t,n_.EMPTY_NODE);return null!=c&&this.rangedFilter_.matches(c)?(null!=i&&i.trackChildChange(u_(c.name,c.node)),n.updateImmediateChild(c.name,c.node)):n}}return n.isEmpty()?e:u&&o(l,a)>=0?(null!=i&&(i.trackChildChange(c_(l.name,l.node)),i.trackChildChange(u_(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,n_.EMPTY_NODE)):e}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class m_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Kg}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return af(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return af(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Sm}hasEnd(){return this.endSet_}getIndexEndValue(){return af(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return af(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xm}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return af(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Kg}copy(){const e=new m_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function g_(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function __(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function y_(e,t){const n=e.copy();return n.index_=t,n}function v_(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Kg?n="$priority":e.index_===a_?n="$value":e.index_===Ag?n="$key":(af(e.index_ instanceof s_,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=xf(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=xf(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+xf(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=xf(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+xf(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function b_(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Kg&&(t.i=e.index_.toString()),t}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class w_ extends sg{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=wm("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(af(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=w_.getListenId_(e,n),s={};this.listens_[o]=s;const a=v_(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),Pf(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=w_.getListenId_(e,t);delete this.listens_[n]}get(e){const t=v_(e._queryParams),n=e._path.toString(),r=new vf;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+o);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(n&&4===s.readyState){this.log_("REST Response for "+o+" received. status:",s.status,"response:",s.responseText);let e=null;if(s.status>=200&&s.status<300){try{e=Sf(s.responseText)}catch(_h){Em("Failed to parse JSON response for "+o+": "+s.responseText)}n(null,e)}else 401!==s.status&&404!==s.status&&Em("Got unsuccessful REST response for "+o+" Status: "+s.status),n(s.status);n=null}},s.open("GET",o,!0),s.send()}))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class C_{constructor(){this.rootNode_=n_.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function k_(){return{value:null,children:new Map}}function E_(e,t,n){if(bg(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=fg(t);e.children.has(r)||e.children.set(r,k_()),E_(e.children.get(r),t=mg(t),n)}}function T_(e,t){if(bg(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(Kg,((t,n)=>{E_(e,new dg(t),n)})),T_(e,t)}}if(e.children.size>0){const n=fg(t);return t=mg(t),e.children.has(n)&&T_(e.children.get(n),t)&&e.children.delete(n),0===e.children.size}return!0}function S_(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e,((e,r)=>{S_(r,new dg(t.toString()+"/"+e),n)}))}class x_{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Dm(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class I_{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new x_(e);const n=1e4+2e4*Math.random();Um(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Dm(e,((e,r)=>{r>0&&Nf(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),Um(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var N_;function P_(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(N_||(N_={}));class R_{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=N_.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(bg(this.path)){if(null!=this.affectedTree.value)return af(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new dg(e));return new R_(hg(),t,this.revert)}}return af(fg(this.path)===e,"operationForChild called for unrelated child."),new R_(mg(this.path),this.affectedTree,this.revert)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class O_{constructor(e,t){this.source=e,this.path=t,this.type=N_.LISTEN_COMPLETE}operationForChild(e){return bg(this.path)?new O_(this.source,hg()):new O_(this.source,mg(this.path))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class D_{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=N_.OVERWRITE}operationForChild(e){return bg(this.path)?new D_(this.source,hg(),this.snap.getImmediateChild(e)):new D_(this.source,mg(this.path),this.snap)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class L_{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=N_.MERGE}operationForChild(e){if(bg(this.path)){const t=this.children.subtree(new dg(e));return t.isEmpty()?null:t.value?new D_(this.source,hg(),t.value):new L_(this.source,hg(),t)}return af(fg(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new L_(this.source,mg(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class A_{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(bg(e))return this.isFullyInitialized()&&!this.filtered_;const t=fg(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class M_{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function F_(e,t,n,r,i,o){const s=r.filter((e=>e.type===n));s.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw lf("Should only compare child_ events.");const r=new Rg(t.childName,t.snapshotNode),i=new Rg(n.childName,n.snapshotNode);return e.index_.compare(r,i)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e,t,n))),s.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function U_(e,t){return{eventCache:e,serverCache:t}}function z_(e,t,n,r){return U_(new A_(t,n,r),e.serverCache)}function B_(e,t,n,r){return U_(e.eventCache,new A_(t,n,r))}function q_(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function j_(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let $_;class W_{constructor(e,t=(()=>($_||($_=new Ug(Nm)),$_))()){this.value=e,this.children=t}static fromObject(e){let t=new W_(null);return Dm(e,((e,n)=>{t=t.set(new dg(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:hg(),value:this.value};if(bg(e))return null;{const n=fg(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(mg(e),t);return null!=i?{path:vg(new dg(n),i.path),value:i.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(bg(e))return this;{const t=fg(e),n=this.children.get(t);return null!==n?n.subtree(mg(e)):new W_(null)}}set(e,t){if(bg(e))return new W_(t,this.children);{const n=fg(e),r=(this.children.get(n)||new W_(null)).set(mg(e),t),i=this.children.insert(n,r);return new W_(this.value,i)}}remove(e){if(bg(e))return this.children.isEmpty()?new W_(null):new W_(null,this.children);{const t=fg(e),n=this.children.get(t);if(n){const r=n.remove(mg(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new W_(null):new W_(this.value,i)}return this}}get(e){if(bg(e))return this.value;{const t=fg(e),n=this.children.get(t);return n?n.get(mg(e)):null}}setTree(e,t){if(bg(e))return t;{const n=fg(e),r=(this.children.get(n)||new W_(null)).setTree(mg(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new W_(this.value,i)}}fold(e){return this.fold_(hg(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(vg(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,hg(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(bg(e))return null;{const r=fg(e),i=this.children.get(r);return i?i.findOnPath_(mg(e),vg(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,hg(),t)}foreachOnPath_(e,t,n){if(bg(e))return this;{this.value&&n(t,this.value);const r=fg(e),i=this.children.get(r);return i?i.foreachOnPath_(mg(e),vg(t,r),n):new W_(null)}}foreach(e){this.foreach_(hg(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(vg(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class H_{constructor(e){this.writeTree_=e}static empty(){return new H_(new W_(null))}}function V_(e,t,n){if(bg(t))return new H_(new W_(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=wg(i,t);return o=o.updateChild(s,n),new H_(e.writeTree_.set(i,o))}{const r=new W_(n),i=e.writeTree_.setTree(t,r);return new H_(i)}}}function Q_(e,t,n){let r=e;return Dm(n,((e,n)=>{r=V_(r,vg(t,e),n)})),r}function K_(e,t){if(bg(t))return H_.empty();{const n=e.writeTree_.setTree(t,new W_(null));return new H_(n)}}function Y_(e,t){return null!=G_(e,t)}function G_(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(wg(n.path,t)):null}function X_(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Kg,((e,n)=>{t.push(new Rg(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new Rg(e,n.value))})),t}function J_(e,t){if(bg(t))return e;{const n=G_(e,t);return new H_(null!=n?new W_(n):e.writeTree_.subtree(t))}}function Z_(e){return e.writeTree_.isEmpty()}function ey(e,t){return ty(hg(),e.writeTree_,t)}function ty(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(af(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=ty(vg(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(vg(e,".priority"),r)),n}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function ny(e,t){return my(t,e)}function ry(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));af(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&iy(t,r.path)?i=!1:Eg(r.path,t.path)&&(o=!0)),s--}return!!i&&(o?(function(e){e.visibleWrites=sy(e.allWrites,oy,hg()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(r.snap?e.visibleWrites=K_(e.visibleWrites,r.path):Dm(r.children,(t=>{e.visibleWrites=K_(e.visibleWrites,vg(r.path,t))})),!0))}function iy(e,t){if(e.snap)return Eg(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Eg(vg(e.path,n),t))return!0;return!1}function oy(e){return e.visible}function sy(e,t,n){let r=H_.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)Eg(n,e)?(t=wg(n,e),r=V_(r,t,o.snap)):Eg(e,n)&&(t=wg(e,n),r=V_(r,hg(),o.snap.getChild(t)));else{if(!o.children)throw lf("WriteRecord should have .snap or .children");if(Eg(n,e))t=wg(n,e),r=Q_(r,t,o.children);else if(Eg(e,n))if(t=wg(e,n),bg(t))r=Q_(r,hg(),o.children);else{const e=Pf(o.children,fg(t));if(e){const n=e.getChild(mg(t));r=V_(r,hg(),n)}}}}}return r}function ay(e,t,n,r,i){if(r||i){const o=J_(e.visibleWrites,t);if(!i&&Z_(o))return n;if(i||null!=n||Y_(o,hg())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Eg(e.path,t)||Eg(t,e.path))};return ey(sy(e.allWrites,o,t),n||n_.EMPTY_NODE)}return null}{const r=G_(e.visibleWrites,t);if(null!=r)return r;{const r=J_(e.visibleWrites,t);return Z_(r)?n:null!=n||Y_(r,hg())?ey(r,n||n_.EMPTY_NODE):null}}}function ly(e,t,n,r){return ay(e.writeTree,e.treePath,t,n,r)}function uy(e,t){return function(e,t,n){let r=n_.EMPTY_NODE;const i=G_(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Kg,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=J_(e.visibleWrites,t);return n.forEachChild(Kg,((e,t)=>{const n=ey(J_(i,new dg(e)),t);r=r.updateImmediateChild(e,n)})),X_(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return X_(J_(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function cy(e,t,n,r){return function(e,t,n,r,i){af(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=vg(t,n);if(Y_(e.visibleWrites,o))return null;{const t=J_(e.visibleWrites,o);return Z_(t)?i.getChild(n):ey(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function dy(e,t){return function(e,t){return G_(e.visibleWrites,t)}(e.writeTree,vg(e.treePath,t))}function hy(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=J_(e.visibleWrites,t),u=G_(l,hg());if(null!=u)a=u;else{if(null==n)return[];a=ey(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function fy(e,t,n){return function(e,t,n,r){const i=vg(t,n),o=G_(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?ey(J_(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function py(e,t){return my(vg(e.treePath,t),e.writeTree)}function my(e,t){return{treePath:e,writeTree:t}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class gy{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;af("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),af(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,d_(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,c_(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,u_(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw lf("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,d_(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const _y=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class yy{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new A_(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fy(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:j_(this.viewCache_),i=hy(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function vy(e,t,n,r,i){const o=new gy;let s,a;if(n.type===N_.OVERWRITE){const l=n;l.source.fromUser?s=Cy(e,t,l.path,l.snap,r,i,o):(af(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!bg(l.path),s=wy(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===N_.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach(((r,l)=>{const u=vg(n,r);ky(t,fg(u))&&(a=Cy(e,a,u,l,i,o,s))})),r.foreach(((r,l)=>{const u=vg(n,r);ky(t,fg(u))||(a=Cy(e,a,u,l,i,o,s))})),a}(e,t,l.path,l.children,r,i,o):(af(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=Ty(e,t,l.path,l.children,r,i,a,o))}else if(n.type===N_.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=dy(r,n))return t;{const a=new yy(r,t,i),l=t.eventCache.getNode();let u;if(bg(n)||".priority"===fg(n)){let n;if(t.serverCache.isFullyInitialized())n=ly(r,j_(t));else{const e=t.serverCache.getNode();af(e instanceof n_,"serverChildren would be complete if leaf node"),n=uy(r,e)}u=e.filter.updateFullNode(l,n,o)}else{const i=fg(n);let c=fy(r,i,t.serverCache);null==c&&t.serverCache.isCompleteForChild(i)&&(c=l.getImmediateChild(i)),u=null!=c?e.filter.updateChild(l,i,c,mg(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,n_.EMPTY_NODE,mg(n),a,o):l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=ly(r,j_(t)),s.isLeafNode()&&(u=e.filter.updateFullNode(u,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=dy(r,hg()),z_(t,u,s,e.filter.filtersNodes())}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=dy(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(bg(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return wy(e,t,n,l.getNode().getChild(n),i,o,a,s);if(bg(n)){let r=new W_(null);return l.getNode().forEachChild(Ag,((e,t)=>{r=r.set(new dg(e),t)})),Ty(e,t,n,r,i,o,a,s)}return t}{let u=new W_(null);return r.foreach(((e,t)=>{const r=vg(n,e);l.isCompleteForPath(r)&&(u=u.set(e,l.getNode().getChild(r)))})),Ty(e,t,n,u,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==N_.LISTEN_COMPLETE)throw lf("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache,s=B_(t,o.getNode(),o.isFullyInitialized()||bg(n),o.isFiltered());return by(e,s,n,r,_y,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=q_(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(l_(q_(t)))}}(t,s,l),{viewCache:s,changes:l}}function by(e,t,n,r,i,o){const s=t.eventCache;if(null!=dy(r,n))return t;{let a,l;if(bg(n))if(af(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=j_(t),i=uy(r,n instanceof n_?n:n_.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=ly(r,j_(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const u=fg(n);if(".priority"===u){af(1===pg(n),"Can't have a priority with additional path components");const i=s.getNode();l=t.serverCache.getNode();const o=cy(r,n,i,l);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const c=mg(n);let d;if(s.isCompleteForChild(u)){l=t.serverCache.getNode();const e=cy(r,n,s.getNode(),l);d=null!=e?s.getNode().getImmediateChild(u).updateChild(c,e):s.getNode().getImmediateChild(u)}else d=fy(r,u,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),u,d,c,i,o):s.getNode()}}return z_(t,a,s.isFullyInitialized()||bg(n),e.filter.filtersNodes())}}function wy(e,t,n,r,i,o,s,a){const l=t.serverCache;let u;const c=s?e.filter:e.filter.getIndexedFilter();if(bg(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),e,null)}else{const e=fg(n);if(!l.isCompleteForPath(n)&&pg(n)>1)return t;const i=mg(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);u=".priority"===e?c.updatePriority(l.getNode(),o):c.updateChild(l.getNode(),e,o,i,_y,null)}const d=B_(t,u,l.isFullyInitialized()||bg(n),c.filtersNodes());return by(e,d,n,i,new yy(i,d,o),a)}function Cy(e,t,n,r,i,o,s){const a=t.eventCache;let l,u;const c=new yy(i,t,o);if(bg(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=z_(t,u,!0,e.filter.filtersNodes());else{const i=fg(n);if(".priority"===i)u=e.filter.updatePriority(t.eventCache.getNode(),r),l=z_(t,u,a.isFullyInitialized(),a.isFiltered());else{const o=mg(n),u=a.getNode().getImmediateChild(i);let d;if(bg(o))d=r;else{const e=c.getCompleteChild(i);d=null!=e?".priority"===gg(o)&&e.getChild(yg(o)).isEmpty()?e:e.updateChild(o,r):n_.EMPTY_NODE}l=u.equals(d)?t:z_(t,e.filter.updateChild(a.getNode(),i,d,o,c,s),a.isFullyInitialized(),e.filter.filtersNodes())}}return l}function ky(e,t){return e.eventCache.isCompleteForChild(t)}function Ey(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Ty(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,u=t;l=bg(n)?r:new W_(null).setTree(n,r);const c=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(c.hasChild(n)){const l=Ey(0,t.serverCache.getNode().getImmediateChild(n),r);u=wy(e,u,new dg(n),l,i,o,s,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!l){const l=Ey(0,t.serverCache.getNode().getImmediateChild(n),r);u=wy(e,u,new dg(n),l,i,o,s,a)}})),u}class Sy{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new h_(n.getIndex()),i=(o=n).loadsAllData()?new h_(o.getIndex()):o.hasLimit()?new p_(o):new f_(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(n_.EMPTY_NODE,s.getNode(),null),u=i.updateFullNode(n_.EMPTY_NODE,a.getNode(),null),c=new A_(l,s.isFullyInitialized(),r.filtersNodes()),d=new A_(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=U_(d,c),this.eventGenerator_=new M_(this.query_)}get query(){return this.query_}}function xy(e,t){const n=j_(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!bg(t)&&!n.getImmediateChild(fg(t)).isEmpty())?n.getChild(t):null}function Iy(e){return 0===e.eventRegistrations_.length}function Ny(e,t,n){const r=[];if(n){af(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Py(e,t,n,r){t.type===N_.MERGE&&null!==t.source.queryId&&(af(j_(e.viewCache_),"We should always have a full cache before handling merges"),af(q_(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=vy(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,af(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),af(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),af(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Ry(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Ry(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),F_(e,i,"child_removed",t,r,n),F_(e,i,"child_added",t,r,n),F_(e,i,"child_moved",o,r,n),F_(e,i,"child_changed",t,r,n),F_(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let Oy,Dy;class Ly{constructor(){this.views=new Map}}function Ay(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return af(null!=o,"SyncTree gave us an op for an invalid query."),Py(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(Py(o,t,n,r));return i}}function My(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=ly(n,i?r:null),o=!1;e?o=!0:r instanceof n_?(e=uy(n,r),o=!1):(e=n_.EMPTY_NODE,o=!1);const s=U_(new A_(e,o,!1),new A_(r,i,!1));return new Sy(t,s)}return s}function Fy(e,t,n,r,i,o){const s=My(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Kg,((e,t)=>{r.push(u_(e,t))})),n.isFullyInitialized()&&r.push(l_(n.getNode())),Ry(e,r,n.getNode(),t)}(s,n)}function Uy(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=$y(e);if("default"===i)for(const[l,u]of e.views.entries())s=s.concat(Ny(u,n,r)),Iy(u)&&(e.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const t=e.views.get(i);t&&(s=s.concat(Ny(t,n,r)),Iy(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!$y(e)&&o.push(new(af(Oy,"Reference.ts has not been loaded"),Oy)(t._repo,t._path)),{removed:o,events:s}}function zy(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function By(e,t){let n=null;for(const r of e.views.values())n=n||xy(r,t);return n}function qy(e,t){if(t._queryParams.loadsAllData())return Wy(e);{const n=t._queryIdentifier;return e.views.get(n)}}function jy(e,t){return null!=qy(e,t)}function $y(e){return null!=Wy(e)}function Wy(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let Hy=1;class Vy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new W_(null),this.pendingWriteTree_={visibleWrites:H_.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Qy(e,t,n,r,i){return function(e,t,n,r,i){af(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=V_(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?nv(e,new D_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Ky(e,t,n,r){!function(e,t,n,r){af(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Q_(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=W_.fromObject(n);return nv(e,new L_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Yy(e,t,n=!1){const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(ry(e.pendingWriteTree_,t)){let t=new W_(null);return null!=r.snap?t=t.set(hg(),!0):Dm(r.children,(e=>{t=t.set(new dg(e),!0)})),nv(e,new R_(r.path,t,n))}return[]}function Gy(e,t,n){return nv(e,new D_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Xy(e,t,n,r,i=!1){const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||jy(s,t))){const l=Uy(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!i){const n=-1!==u.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(o,((e,t)=>$y(t)));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&$y(t))return[Wy(t)];{let e=[];return t&&(e=zy(t)),Dm(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=ov(e,r);e.listenProvider_.startListening(dv(i),sv(e,i),o.hashFn,o.onComplete)}}}if(!i&&u.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(dv(t),n)}else u.forEach((t=>{const n=e.queryToTagMap.get(av(t));e.listenProvider_.stopListening(dv(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=av(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,u)}return a}function Jy(e,t,n,r){const i=lv(e,r);if(null!=i){const r=uv(i),o=r.path,s=r.queryId,a=wg(o,t);return cv(e,o,new D_(P_(s),a,n))}return[]}function Zy(e,t,n,r=!1){const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=wg(e,i);o=o||By(t,n),s=s||$y(t)}));let a,l=e.syncPointTree_.get(i);l?(s=s||$y(l),o=o||By(l,hg())):(l=new Ly,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=o?a=!0:(a=!1,o=n_.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=By(t,hg());n&&(o=o.updateImmediateChild(e,n))})));const u=jy(l,t);if(!u&&!t._queryParams.loadsAllData()){const n=av(t);af(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Hy++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let c=Fy(l,t,n,ny(e.pendingWriteTree_,i),o,a);if(!u&&!s&&!r){const n=qy(l,t);c=c.concat(function(e,t,n){const r=t._path,i=sv(e,t),o=ov(e,n),s=e.listenProvider_.startListening(dv(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)af(!$y(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!bg(e)&&t&&$y(t))return[Wy(t).query];{let e=[];return t&&(e=e.concat(zy(t).map((e=>e.query)))),Dm(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(dv(r),sv(e,r))}}return s}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e,t,n))}return c}function ev(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=By(n,wg(e,t));if(r)return r}));return ay(r,t,i,n,!0)}function tv(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=wg(e,n);r=r||By(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||By(i,hg()):(i=new Ly,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new A_(r,!0,!1):null;return function(e){return q_(e.viewCache_)}(My(i,t,ny(e.pendingWriteTree_,t._path),o?s.getNode():n_.EMPTY_NODE,o))}function nv(e,t){return rv(t,e.syncPointTree_,null,ny(e.pendingWriteTree_,hg()))}function rv(e,t,n,r){if(bg(e.path))return iv(e,t,n,r);{const i=t.get(hg());null==n&&null!=i&&(n=By(i,hg()));let o=[];const s=fg(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=py(r,s);o=o.concat(rv(a,l,e,t))}return i&&(o=o.concat(Ay(i,e,r,n))),o}}function iv(e,t,n,r){const i=t.get(hg());null==n&&null!=i&&(n=By(i,hg()));let o=[];return t.children.inorderTraversal(((t,i)=>{const s=n?n.getImmediateChild(t):null,a=py(r,t),l=e.operationForChild(t);l&&(o=o.concat(iv(l,i,s,a)))})),i&&(o=o.concat(Ay(i,e,r,n))),o}function ov(e,t){const n=t.query,r=sv(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||n_.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=lv(e,n);if(r){const n=uv(r),i=n.path,o=n.queryId,s=wg(i,t);return cv(e,i,new O_(P_(o),s))}return[]}(e,n._path,r):function(e,t){return nv(e,new O_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Xy(e,n,null,r)}}}}function sv(e,t){const n=av(t);return e.queryToTagMap.get(n)}function av(e){return e._path.toString()+"$"+e._queryIdentifier}function lv(e,t){return e.tagToQueryMap.get(t)}function uv(e){const t=e.indexOf("$");return af(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new dg(e.substr(0,t))}}function cv(e,t,n){const r=e.syncPointTree_.get(t);return af(r,"Missing sync point for query tag that we're tracking"),Ay(r,n,ny(e.pendingWriteTree_,t),null)}function dv(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(af(Dy,"Reference.ts has not been loaded"),Dy)(e._repo,e._path):e}class hv{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new hv(t)}node(){return this.node_}}class fv{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=vg(this.path_,e);return new fv(this.syncTree_,t)}node(){return ev(this.syncTree_,this.path_)}}const pv=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},mv=function(e,t,n){return e&&"object"==typeof e?(af(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?gv(e[".sv"],t,n):"object"==typeof e[".sv"]?_v(e[".sv"],t):void af(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},gv=function(e,t,n){if("timestamp"===e)return n.timestamp;af(!1,"Unexpected server value: "+e)},_v=function(e,t,n){e.hasOwnProperty("increment")||af(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&af(!1,"Unexpected increment value: "+r);const i=t.node();if(af(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},yv=function(e,t,n,r){return bv(t,new fv(n,e),r)},vv=function(e,t,n){return bv(e,new hv(t),n)};function bv(e,t,n){const r=e.getPriority().val(),i=mv(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=mv(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new Qg(o,o_(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new Qg(i))),r.forEachChild(Kg,((e,r)=>{const i=bv(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class wv{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function Cv(e,t){let n=t instanceof dg?t:new dg(t),r=e,i=fg(n);for(;null!==i;){const e=Pf(r.node.children,i)||{children:{},childCount:0};r=new wv(i,r,e),n=mg(n),i=fg(n)}return r}function kv(e){return e.node.value}function Ev(e,t){e.node.value=t,Nv(e)}function Tv(e){return e.node.childCount>0}function Sv(e,t){Dm(e.node.children,((n,r)=>{t(new wv(n,e,r))}))}function xv(e,t,n,r){n&&!r&&t(e),Sv(e,(e=>{xv(e,t,!0,r)})),n&&r&&t(e)}function Iv(e){return new dg(null===e.parent?e.name:Iv(e.parent)+"/"+e.name)}function Nv(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===kv(e)&&!Tv(e)}(n),i=Nf(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Nv(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Nv(e))}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e.parent,e.name,e)}const Pv=/[\[\].#$\/\u0000-\u001F\u007F]/,Rv=/[\[\].#$\u0000-\u001F\u007F]/,Ov=10485760,Dv=function(e){return"string"==typeof e&&0!==e.length&&!Pv.test(e)},Lv=function(e){return"string"==typeof e&&0!==e.length&&!Rv.test(e)},Av=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!Tm(e)||e&&"object"==typeof e&&Nf(e,".sv")},Mv=function(e,t,n,r){r&&void 0===t||Fv(Bf(e,"value"),t,n)},Fv=function(e,t,n){const r=n instanceof dg?new Tg(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+xg(r));if("function"==typeof t)throw new Error(e+"contains a function "+xg(r)+" with contents = "+t.toString());if(Tm(t))throw new Error(e+"contains "+t.toString()+" "+xg(r));if("string"==typeof t&&t.length>Ov/3&&$f(t)>Ov)throw new Error(e+"contains a string greater than "+Ov+" utf8 bytes "+xg(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(Dm(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Dv(t)))throw new Error(e+" contains an invalid key ("+t+") "+xg(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=$f(t),Sg(e)}(r,t),Fv(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=$f(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+xg(r)+" in addition to actual children.")}},Uv=function(e,t,n,r){if(r&&void 0===t)return;const i=Bf(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];Dm(t,((e,t)=>{const r=new dg(e);if(Fv(i,t,vg(n,r)),".priority"===gg(r)&&!Av(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=_g(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!Dv(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Cg);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&Eg(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},zv=function(e,t,n){if(!n||void 0!==t){if(Tm(t))throw new Error(Bf(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Av(t))throw new Error(Bf(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Bv=function(e,t,n,r){if(!(r&&void 0===n||Dv(n)))throw new Error(Bf(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},qv=function(e,t,n,r){if(!(r&&void 0===n||Lv(n)))throw new Error(Bf(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},jv=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),qv(e,t,n,r)},$v=function(e,t){if(".info"===fg(t))throw new Error(e+" failed = Can't modify data under /.info/")},Wv=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Dv(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Lv(e)}(n))throw new Error(Bf(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class Hv{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Vv(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||kg(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Qv(e,t,n){Vv(e,n),Yv(e,(e=>kg(e,t)))}function Kv(e,t,n){Vv(e,n),Yv(e,(e=>Eg(e,t)||Eg(t,e)))}function Yv(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(Gv(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function Gv(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();_m&&bm("event: "+n.toString()),Fm(r)}}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Xv="repo_interrupt",Jv=25;class Zv{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Hv,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=k_(),this.transactionQueueTree_=new wv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function eb(e,t,n){if(e.stats_=Xm(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new w_(e.repoInfo_,((t,n,r,i)=>{rb(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>ib(e,!0)),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{xf(n)}catch(_h){throw new Error("Invalid authOverride provided: "+_h)}}e.persistentConnection_=new Pg(e.repoInfo_,t,((t,n,r,i)=>{rb(e,t,n,r,i)}),(t=>{ib(e,t)}),(t=>{!function(e,t){Dm(t,((t,n)=>{ob(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return Gm[n]||(Gm[n]=t()),Gm[n]}(e.repoInfo_,(()=>new I_(e.stats_,e.server_))),e.infoData_=new C_,e.infoSyncTree_=new Vy({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=Gy(e.infoSyncTree_,t._path,s),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),ob(e,"connected",!1),e.serverSyncTree_=new Vy({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);Kv(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function tb(e){const t=e.infoData_.getNode(new dg(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function nb(e){return pv({timestamp:tb(e)})}function rb(e,t,n,r,i){e.dataUpdateCount++;const o=new dg(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=Of(n,(e=>o_(e)));s=function(e,t,n,r){const i=lv(e,r);if(i){const r=uv(i),o=r.path,s=r.queryId,a=wg(o,t),l=W_.fromObject(n);return cv(e,o,new L_(P_(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=o_(n);s=Jy(e.serverSyncTree_,o,t,i)}else if(r){const t=Of(n,(e=>o_(e)));s=function(e,t,n){const r=W_.fromObject(n);return nv(e,new L_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=o_(n);s=Gy(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=gb(e,o)),Kv(e.eventQueue_,a,s)}function ib(e,t){ob(e,"connected",t),!1===t&&function(e){hb(e,"onDisconnectEvents");const t=nb(e),n=k_();S_(e.onDisconnect_,hg(),((r,i)=>{const o=yv(r,i,e.serverSyncTree_,t);E_(n,r,o)}));let r=[];S_(n,hg(),((t,n)=>{r=r.concat(Gy(e.serverSyncTree_,t,n));const i=wb(e,t);gb(e,i)})),e.onDisconnect_=k_(),Kv(e.eventQueue_,hg(),r)}(e)}function ob(e,t,n){const r=new dg("/.info/"+t),i=o_(n);e.infoData_.updateSnapshot(r,i);const o=Gy(e.infoSyncTree_,r,i);Kv(e.eventQueue_,r,o)}function sb(e){return e.nextWriteId_++}function ab(e,t,n,r,i){hb(e,"set",{path:t.toString(),value:n,priority:r});const o=nb(e),s=o_(n,r),a=ev(e.serverSyncTree_,t),l=vv(s,a,o),u=sb(e),c=Qy(e.serverSyncTree_,t,l,u,!0);Vv(e.eventQueue_,c),e.server_.put(t.toString(),s.val(!0),((n,r)=>{const o="ok"===n;o||Em("set at "+t+" failed: "+n);const s=Yy(e.serverSyncTree_,u,!o);Kv(e.eventQueue_,t,s),fb(0,i,n,r)}));const d=wb(e,t);gb(e,d),Kv(e.eventQueue_,d,[])}function lb(e,t,n){e.server_.onDisconnectCancel(t.toString(),((r,i)=>{"ok"===r&&T_(e.onDisconnect_,t),fb(0,n,r,i)}))}function ub(e,t,n,r){const i=o_(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),((n,o)=>{"ok"===n&&E_(e.onDisconnect_,t,i),fb(0,r,n,o)}))}function cb(e,t,n){let r;r=".info"===fg(t._path)?Xy(e.infoSyncTree_,t,n):Xy(e.serverSyncTree_,t,n),Qv(e.eventQueue_,t._path,r)}function db(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Xv)}function hb(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),bm(n,...t)}function fb(e,t,n,r){t&&Fm((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}function pb(e,t,n){return ev(e.serverSyncTree_,t,n)||n_.EMPTY_NODE}function mb(e,t=e.transactionQueueTree_){if(t||bb(e,t),kv(t)){const n=yb(e,t);af(n.length>0,"Sending zero length transaction queue"),n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=pb(e,t,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const e=n[u];af(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=wg(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,(r=>{hb(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(Yy(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();bb(e,Cv(e.transactionQueueTree_,t)),mb(e,e.transactionQueueTree_),Kv(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)Fm(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Em("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}gb(e,t)}}),s)}(e,Iv(t),n)}else Tv(t)&&Sv(t,(t=>{mb(e,t)}))}function gb(e,t){const n=_b(e,t),r=Iv(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)),s=o.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const o=t[l],u=wg(n,o.path);let c,d=!1;if(af(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)d=!0,c=o.abortReason,i=i.concat(Yy(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=Jv)d=!0,c="maxretry",i=i.concat(Yy(e.serverSyncTree_,o.currentWriteId,!0));else{const n=pb(e,o.path,s);o.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){Fv("transaction failed: Data returned ",r,o.path);let t=o_(r);"object"==typeof r&&null!=r&&Nf(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=nb(e),u=vv(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=u,o.currentWriteId=sb(e),s.splice(s.indexOf(a),1),i=i.concat(Qy(e.serverSyncTree_,o.path,u,o.currentWriteId,o.applyLocally)),i=i.concat(Yy(e.serverSyncTree_,a,!0))}else d=!0,c="nodata",i=i.concat(Yy(e.serverSyncTree_,o.currentWriteId,!0))}Kv(e.eventQueue_,n,i),i=[],d&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===c?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(c),!1,null)))))}var a;bb(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Fm(r[l]);mb(e,e.transactionQueueTree_)}(e,yb(e,n),r),r}function _b(e,t){let n,r=e.transactionQueueTree_;for(n=fg(t);null!==n&&void 0===kv(r);)r=Cv(r,n),n=fg(t=mg(t));return r}function yb(e,t){const n=[];return vb(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function vb(e,t,n){const r=kv(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Sv(t,(t=>{vb(e,t,n)}))}function bb(e,t){const n=kv(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Ev(t,n.length>0?n:void 0)}Sv(t,(t=>{bb(e,t)}))}function wb(e,t){const n=Iv(_b(e,t)),r=Cv(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{Cb(e,t)})),Cb(e,r),xv(r,(t=>{Cb(e,t)})),n}function Cb(e,t){const n=kv(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(af(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(af(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(Yy(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Ev(t,void 0):n.length=o+1,Kv(e.eventQueue_,Iv(t),i);for(let e=0;e<r.length;e++)Fm(r[e])}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const kb=function(e,t){const n=Eb(e),r=n.namespace;"firebase.com"===n.domain&&km(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||km("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Em("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Vm(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new dg(n.pathString)}},Eb=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"==typeof e){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");-1===c&&(c=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(_h){}t+="/"+e}return t}(e.substring(c,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Em(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(u+1),10)):u=t.length;const f=t.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},Tb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Sb=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=Tb.charAt(n%64),n=Math.floor(n/64);af(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=Tb.charAt(t[i]);return af(20===s.length,"nextPushId: Length should be 20."),s}}();
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class xb{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+xf(this.snapshot.exportVal())}}class Ib{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Nb{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return af(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class Pb{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return bg(this._path)?null:gg(this._path)}get ref(){return new Lb(this._repo,this._path)}get _queryIdentifier(){const e=b_(this._queryParams),t=Rm(e);return"{}"===t?"default":t}get _queryObject(){return b_(this._queryParams)}isEqual(e){if(!((e=Wf(e))instanceof Pb))return!1;const t=this._repo===e._repo,n=kg(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function Rb(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ob(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ag){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Sm)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==xm)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Kg){if(null!=t&&!Av(t)||null!=n&&!Av(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(af(e.getIndex()instanceof s_||e.getIndex()===a_,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Db(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Lb extends Pb{constructor(e,t){super(e,t,new m_,!1)}get parent(){const e=yg(this._path);return null===e?null:new Lb(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}let Ab=class e{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new dg(t),r=Ub(this.ref,t);return new e(this._node.getChild(n),r,Kg)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,((n,r)=>t(new e(r,Ub(this.ref,n),Kg))))}hasChild(e){const t=new dg(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Mb(e,t){return(e=Wf(e))._checkNotDeleted("ref"),void 0!==t?Ub(e._root,t):e._root}function Fb(e,t){(e=Wf(e))._checkNotDeleted("refFromURL");const n=kb(t,e._repo.repoInfo_.nodeAdmin);Wv("refFromURL",n);const r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||km("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Mb(e,n.path.toString())}function Ub(e,t){return null===fg((e=Wf(e))._path)?jv("child","path",t,!1):qv("child","path",t,!1),new Lb(e._repo,vg(e._path,t))}function zb(e,t){e=Wf(e),$v("set",e._path),Mv("set",t,e._path,!1);const n=new vf;return ab(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function Bb(e,t){Uv("update",t,e._path,!1);const n=new vf;return function(e,t,n,r){hb(e,"update",{path:t.toString(),value:n});let i=!0;const o=nb(e),s={};if(Dm(n,((n,r)=>{i=!1,s[n]=yv(vg(t,n),o_(r),e.serverSyncTree_,o)})),i)bm("update() called with empty data.  Don't do anything."),fb(0,r,"ok",void 0);else{const i=sb(e),o=Ky(e.serverSyncTree_,t,s,i);Vv(e.eventQueue_,o),e.server_.merge(t.toString(),n,((n,o)=>{const s="ok"===n;s||Em("update at "+t+" failed: "+n);const a=Yy(e.serverSyncTree_,i,!s),l=a.length>0?gb(e,t):t;Kv(e.eventQueue_,l,a),fb(0,r,n,o)})),Dm(n,(n=>{const r=wb(e,vg(t,n));gb(e,r)})),Kv(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}function qb(e){e=Wf(e);const t=new Nb((()=>{})),n=new jb(t);return function(e,t,n){const r=tv(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const i=o_(r).withIndex(t._queryParams.getIndex());let o;if(Zy(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=Gy(e.serverSyncTree_,t._path,i);else{const n=sv(e.serverSyncTree_,t);o=Jy(e.serverSyncTree_,t._path,i,n)}return Kv(e.eventQueue_,t._path,o),Xy(e.serverSyncTree_,t,n,null,!0),i}),(n=>(hb(e,"get for query "+xf(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new Ab(t,new Lb(e._repo,e._path),e._queryParams.getIndex())))}class jb{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new xb("value",this,new Ab(e.snapshotNode,new Lb(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Ib(this,e,t):null}matches(e){return e instanceof jb&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class $b{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Ib(this,e,t):null}createEvent(e,t){af(null!=e.childName,"Child events should have a childName.");const n=Ub(new Lb(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new xb(e.type,this,new Ab(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof $b&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Wb(e,t,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{cb(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new Nb(n,o||void 0),a="value"===t?new jb(s):new $b(t,s);return function(e,t,n){let r;r=".info"===fg(t._path)?Zy(e.infoSyncTree_,t,n):Zy(e.serverSyncTree_,t,n),Qv(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>cb(e._repo,e,a)}function Hb(e,t,n,r){return Wb(e,"value",t,n,r)}function Vb(e,t,n,r){return Wb(e,"child_added",t,n,r)}function Qb(e,t,n,r){return Wb(e,"child_changed",t,n,r)}function Kb(e,t,n,r){return Wb(e,"child_moved",t,n,r)}function Yb(e,t,n,r){return Wb(e,"child_removed",t,n,r)}function Gb(e,t,n){let r=null;const i=n?new Nb(n):null;"value"===t?r=new jb(i):t&&(r=new $b(t,i)),cb(e._repo,e,r)}class Xb{}class Jb extends Xb{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Mv("endAt",this._value,e._path,!0);const t=__(e._queryParams,this._value,this._key);if(Db(t),Ob(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Pb(e._repo,e._path,t,e._orderByCalled)}}class Zb extends Xb{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Mv("endBefore",this._value,e._path,!1);const t=function(e,t,n){let r;return r=e.index_===Ag||n?__(e,t,n):__(e,t,Sm),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Db(t),Ob(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Pb(e._repo,e._path,t,e._orderByCalled)}}class ew extends Xb{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Mv("startAt",this._value,e._path,!0);const t=g_(e._queryParams,this._value,this._key);if(Db(t),Ob(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Pb(e._repo,e._path,t,e._orderByCalled)}}class tw extends Xb{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Mv("startAfter",this._value,e._path,!1);const t=function(e,t,n){let r;return r=e.index_===Ag||n?g_(e,t,n):g_(e,t,xm),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Db(t),Ob(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Pb(e._repo,e._path,t,e._orderByCalled)}}class nw extends Xb{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Pb(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class rw extends Xb{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Pb(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class iw extends Xb{constructor(e){super(),this._path=e}_apply(e){Rb(e,"orderByChild");const t=new dg(this._path);if(bg(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new s_(t),r=y_(e._queryParams,n);return Ob(r),new Pb(e._repo,e._path,r,!0)}}class ow extends Xb{_apply(e){Rb(e,"orderByKey");const t=y_(e._queryParams,Ag);return Ob(t),new Pb(e._repo,e._path,t,!0)}}class sw extends Xb{_apply(e){Rb(e,"orderByPriority");const t=y_(e._queryParams,Kg);return Ob(t),new Pb(e._repo,e._path,t,!0)}}class aw extends Xb{_apply(e){Rb(e,"orderByValue");const t=y_(e._queryParams,a_);return Ob(t),new Pb(e._repo,e._path,t,!0)}}class lw extends Xb{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Mv("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Jb(this._value,this._key)._apply(new ew(this._value,this._key)._apply(e))}}function uw(e,...t){let n=Wf(e);for(const r of t)n=r._apply(n);return n}!function(e){af(!Oy,"__referenceConstructor has already been defined"),Oy=e}(Lb),function(e){af(!Dy,"__referenceConstructor has already been defined"),Dy=e}(Lb);
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const cw="FIREBASE_DATABASE_EMULATOR_HOST",dw={};let hw=!1;function fw(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||km("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),bm("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s,a,l=kb(o,i),u=l.repoInfo;"undefined"!=typeof process&&process.env&&(a=process.env[cw]),a?(s=!0,o=`http://${a}?ns=${u.namespace}`,l=kb(o,i),u=l.repoInfo):s=!l.repoInfo.secure;const c=i&&s?new qm(qm.OWNER):new Bm(e.name,e.options,t);Wv("Invalid Firebase Database URL",l),bg(l.path)||km("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=dw[t.name];i||(i={},dw[t.name]=i);let o=i[e.toURLString()];return o&&km("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Zv(e,hw,n,r),i[e.toURLString()]=o,o}(u,e,c,new zm(e.name,n));return new pw(d,e)}let pw=class{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(eb(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Lb(this._repo,hg())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){const n=dw[t];n&&n[e.key]===e||km(`Database ${t}(${e.repoInfo_}) has already been deleted.`),db(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&km("Cannot call "+e+" on a deleted database.")}};function mw(){ig.IS_TRANSPORT_INITIALIZED&&Em("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function gw(){mw(),eg.forceDisallow()}function _w(){mw(),rg.forceDisallow(),eg.forceAllow()}function yw(e,t,n,r={}){(e=Wf(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&km("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&km('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new qm(qm.OWNER);else if(r.mockUserToken){const t="string"==typeof r.mockUserToken?r.mockUserToken:bf(r.mockUserToken,e.app.options.projectId);o=new qm(t)}!function(e,t,n,r){e.repoInfo_=new Vm(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}function vw(e){var t;(e=Wf(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(Xv)}function bw(e,t){vm(e,t)}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const ww={".sv":"timestamp"};function Cw(e,t,n){var r;if(e=Wf(e),$v("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,o=new vf,s=Hb(e,(()=>{}));return function(e,t,n,r,i,o){hb(e,"transaction on "+t);const s={path:t,update:n,onComplete:r,status:null,order:pm(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=pb(e,t,void 0);s.currentInputSnapshot=a;const l=s.update(a.val());if(void 0===l)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Fv("transaction failed: Data returned ",l,s.path),s.status=0;const n=Cv(e.transactionQueueTree_,t),r=kv(n)||[];let i;r.push(s),Ev(n,r),"object"==typeof l&&null!==l&&Nf(l,".priority")?(i=Pf(l,".priority"),af(Av(i),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):i=(ev(e.serverSyncTree_,t)||n_.EMPTY_NODE).getPriority().val();const o=nb(e),u=o_(l,i),c=vv(u,a,o);s.currentOutputSnapshotRaw=u,s.currentOutputSnapshotResolved=c,s.currentWriteId=sb(e);const d=Qy(e.serverSyncTree_,t,c,s.currentWriteId,s.applyLocally);Kv(e.eventQueue_,t,d),mb(e,e.transactionQueueTree_)}}(e._repo,e._path,t,((t,n,r)=>{let i=null;t?o.reject(t):(i=new Ab(r,new Lb(e._repo,e._path),Kg),o.resolve(new class{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}(n,i)))}),s,i),o.promise}Pg.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Pg.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},function(e){am(Lp),Pp(new Hf("database",((e,{instanceIdentifier:t})=>fw(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)),"PUBLIC").setMultipleInstances(!0)),Fp(im,om,e),Fp(im,om,"esm2017")}();const kw=new tp("@firebase/database-compat"),Ew=function(e){const t="FIREBASE WARNING: "+e;kw.warn(t)};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class Tw{constructor(e){this._delegate=e}cancel(e){zf("OnDisconnect.cancel",0,1,arguments.length),qf("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then((()=>e(null)),(t=>e(t))),t}remove(e){zf("OnDisconnect.remove",0,1,arguments.length),qf("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then((()=>e(null)),(t=>e(t))),t}set(e,t){zf("OnDisconnect.set",1,2,arguments.length),qf("OnDisconnect.set","onComplete",t,!0);const n=this._delegate.set(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){zf("OnDisconnect.setWithPriority",2,3,arguments.length),qf("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}update(e,t){if(zf("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,Ew("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}qf("OnDisconnect.update","onComplete",t,!0);const n=this._delegate.update(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Sw{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return zf("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class xw{constructor(e,t){this._database=e,this._delegate=t}val(){return zf("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return zf("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return zf("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return zf("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return zf("DataSnapshot.child",0,1,arguments.length),e=String(e),qv("DataSnapshot.child","path",e,!1),new xw(this._database,this._delegate.child(e))}hasChild(e){return zf("DataSnapshot.hasChild",1,1,arguments.length),qv("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return zf("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return zf("DataSnapshot.forEach",1,1,arguments.length),qf("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((t=>e(new xw(this._database,t))))}hasChildren(){return zf("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return zf("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return zf("DataSnapshot.ref",0,0,arguments.length),new Nw(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Iw{constructor(e,t){this.database=e,this._delegate=t}on(e,t,n,r){var i;zf("Query.on",2,4,arguments.length),qf("Query.on","callback",t,!1);const o=Iw.getCancelAndContextArgs_("Query.on",n,r),s=(e,n)=>{t.call(o.context,new xw(this.database,e),n)};s.userCallback=t,s.context=o.context;const a=null===(i=o.cancel)||void 0===i?void 0:i.bind(o.context);switch(e){case"value":return Hb(this._delegate,s,a),t;case"child_added":return Vb(this._delegate,s,a),t;case"child_removed":return Yb(this._delegate,s,a),t;case"child_changed":return Qb(this._delegate,s,a),t;case"child_moved":return Kb(this._delegate,s,a),t;default:throw new Error(Bf("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,n){if(zf("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Bf(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),qf("Query.off","callback",t,!0),jf("Query.off","context",n,!0),t){const r=()=>{};r.userCallback=t,r.context=n,Gb(this._delegate,e,r)}else Gb(this._delegate,e)}get(){return qb(this._delegate).then((e=>new xw(this.database,e)))}once(e,t,n,r){zf("Query.once",1,4,arguments.length),qf("Query.once","callback",t,!0);const i=Iw.getCancelAndContextArgs_("Query.once",n,r),o=new vf,s=(e,n)=>{const r=new xw(this.database,e);t&&t.call(i.context,r,n),o.resolve(r)};s.userCallback=t,s.context=i.context;const a=e=>{i.cancel&&i.cancel.call(i.context,e),o.reject(e)};switch(e){case"value":Hb(this._delegate,s,a,{onlyOnce:!0});break;case"child_added":Vb(this._delegate,s,a,{onlyOnce:!0});break;case"child_removed":Yb(this._delegate,s,a,{onlyOnce:!0});break;case"child_changed":Qb(this._delegate,s,a,{onlyOnce:!0});break;case"child_moved":Kb(this._delegate,s,a,{onlyOnce:!0});break;default:throw new Error(Bf("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return zf("Query.limitToFirst",1,1,arguments.length),new Iw(this.database,uw(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new nw(e)}(e)))}limitToLast(e){return zf("Query.limitToLast",1,1,arguments.length),new Iw(this.database,uw(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new rw(e)}(e)))}orderByChild(e){return zf("Query.orderByChild",1,1,arguments.length),new Iw(this.database,uw(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return qv("orderByChild","path",e,!1),new iw(e)}(e)))}orderByKey(){return zf("Query.orderByKey",0,0,arguments.length),new Iw(this.database,uw(this._delegate,new ow))}orderByPriority(){return zf("Query.orderByPriority",0,0,arguments.length),new Iw(this.database,uw(this._delegate,new sw))}orderByValue(){return zf("Query.orderByValue",0,0,arguments.length),new Iw(this.database,uw(this._delegate,new aw))}startAt(e=null,t){return zf("Query.startAt",0,2,arguments.length),new Iw(this.database,uw(this._delegate,function(e=null,t){return Bv("startAt","key",t,!0),new ew(e,t)}(e,t)))}startAfter(e=null,t){return zf("Query.startAfter",0,2,arguments.length),new Iw(this.database,uw(this._delegate,function(e,t){return Bv("startAfter","key",t,!0),new tw(e,t)}(e,t)))}endAt(e=null,t){return zf("Query.endAt",0,2,arguments.length),new Iw(this.database,uw(this._delegate,function(e,t){return Bv("endAt","key",t,!0),new Jb(e,t)}(e,t)))}endBefore(e=null,t){return zf("Query.endBefore",0,2,arguments.length),new Iw(this.database,uw(this._delegate,function(e,t){return Bv("endBefore","key",t,!0),new Zb(e,t)}(e,t)))}equalTo(e,t){return zf("Query.equalTo",1,2,arguments.length),new Iw(this.database,uw(this._delegate,function(e,t){return Bv("equalTo","key",t,!0),new lw(e,t)}(e,t)))}toString(){return zf("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return zf("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(zf("Query.isEqual",1,1,arguments.length),!(e instanceof Iw))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,n){const r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,qf(e,"cancel",r.cancel,!0),r.context=n,jf(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(Bf(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Nw(this.database,new Lb(this._delegate._repo,this._delegate._path))}}let Nw=class e extends Iw{constructor(e,t){super(e,new Pb(t._repo,t._path,new m_,!1)),this.database=e,this._delegate=t}getKey(){return zf("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return zf("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,Ub(this._delegate,t))}getParent(){zf("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new e(this.database,t):null}getRoot(){return zf("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)}set(e,t){zf("Reference.set",1,2,arguments.length),qf("Reference.set","onComplete",t,!0);const n=zb(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}update(e,t){if(zf("Reference.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,Ew("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}$v("Reference.update",this._delegate._path),qf("Reference.update","onComplete",t,!0);const n=Bb(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){zf("Reference.setWithPriority",2,3,arguments.length),qf("Reference.setWithPriority","onComplete",n,!0);const r=function(e,t,n){if($v("setWithPriority",e._path),Mv("setWithPriority",t,e._path,!1),zv("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new vf;return ab(e._repo,e._path,t,n,r.wrapCallback((()=>{}))),r.promise}(this._delegate,e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}remove(e){zf("Reference.remove",0,1,arguments.length),qf("Reference.remove","onComplete",e,!0);const t=function(e){return $v("remove",e._path),zb(e,null)}(this._delegate);return e&&t.then((()=>e(null)),(t=>e(t))),t}transaction(e,t,n){zf("Reference.transaction",1,3,arguments.length),qf("Reference.transaction","transactionUpdate",e,!1),qf("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Bf(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);const r=Cw(this._delegate,e,{applyLocally:n}).then((e=>new Sw(e.committed,new xw(this.database,e.snapshot))));return t&&r.then((e=>t(null,e.committed,e.snapshot)),(e=>t(e,!1,null))),r}setPriority(e,t){zf("Reference.setPriority",1,2,arguments.length),qf("Reference.setPriority","onComplete",t,!0);const n=function(e,t){e=Wf(e),$v("setPriority",e._path),zv("setPriority",t,!1);const n=new vf;return ab(e._repo,vg(e._path,".priority"),t,null,n.wrapCallback((()=>{}))),n.promise}(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}push(t,n){zf("Reference.push",0,2,arguments.length),qf("Reference.push","onComplete",n,!0);const r=function(e,t){e=Wf(e),$v("push",e._path),Mv("push",t,e._path,!0);const n=tb(e._repo),r=Sb(n),i=Ub(e,r),o=Ub(e,r);let s;return s=null!=t?zb(o,t).then((()=>o)):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}(this._delegate,t),i=r.then((t=>new e(this.database,t)));n&&i.then((()=>n(null)),(e=>n(e)));const o=new e(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return $v("Reference.onDisconnect",this._delegate._path),new Tw(new class{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new vf;return lb(this._repo,this._path,e.wrapCallback((()=>{}))),e.promise}remove(){$v("OnDisconnect.remove",this._path);const e=new vf;return ub(this._repo,this._path,null,e.wrapCallback((()=>{}))),e.promise}set(e){$v("OnDisconnect.set",this._path),Mv("OnDisconnect.set",e,this._path,!1);const t=new vf;return ub(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}setWithPriority(e,t){$v("OnDisconnect.setWithPriority",this._path),Mv("OnDisconnect.setWithPriority",e,this._path,!1),zv("OnDisconnect.setWithPriority",t,!1);const n=new vf;return function(e,t,n,r,i){const o=o_(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),((n,r)=>{"ok"===n&&E_(e.onDisconnect_,t,o),fb(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((()=>{}))),n.promise}update(e){$v("OnDisconnect.update",this._path),Uv("OnDisconnect.update",e,this._path,!1);const t=new vf;return function(e,t,n,r){if(Rf(n))return bm("onDisconnect().update() called with empty data.  Don't do anything."),void fb(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,((i,o)=>{"ok"===i&&Dm(n,((n,r)=>{const i=o_(r);E_(e.onDisconnect_,vg(t,n),i)})),fb(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}}(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Pw{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:gw,forceLongPolling:_w}}useEmulator(e,t,n={}){yw(this._delegate,e,t,n)}ref(e){if(zf("database.ref",0,1,arguments.length),e instanceof Nw){const t=Fb(this._delegate,e.toString());return new Nw(this,t)}{const t=Mb(this._delegate,e);return new Nw(this,t)}}refFromURL(e){zf("database.refFromURL",1,1,arguments.length);const t=Fb(this._delegate,e);return new Nw(this,t)}goOffline(){return zf("database.goOffline",0,0,arguments.length),function(e){(e=Wf(e))._checkNotDeleted("goOffline"),db(e._repo)}(this._delegate)}goOnline(){return zf("database.goOnline",0,0,arguments.length),vw(this._delegate)}}Pw.ServerValue={TIMESTAMP:ww,increment:e=>function(e){return{".sv":{increment:e}}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e)};var Rw=Object.freeze({__proto__:null,initStandalone:
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function({app:e,url:t,version:n,customAuthImpl:r,namespace:i,nodeAdmin:o=!1}){am(n);const s=new Qf("auth-internal",new Kf("database-standalone"));return s.setComponent(new Hf("auth-internal",(()=>r),"PRIVATE")),{instance:new Pw(fw(e,s,void 0,t,o),e),namespace:i}}});
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Ow=Pw.ServerValue;var Dw;(Dw=rm).INTERNAL.registerComponent(new Hf("database-compat",((e,{instanceIdentifier:t})=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new Pw(r,n)}),"PUBLIC").setServiceProps({Reference:Nw,Query:Iw,Database:Pw,DataSnapshot:xw,enableLogging:bw,INTERNAL:Rw,ServerValue:Ow}).setMultipleInstances(!0)),Dw.registerVersion("@firebase/database-compat","0.3.4");
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const Lw="firebasestorage.googleapis.com",Aw="storageBucket";
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class Mw extends kf{constructor(e,t,n=0){super(zw(e),`Firebase Storage: ${t} (${zw(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mw.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fw,Uw;function zw(e){return"storage/"+e}function Bw(){return new Mw(Fw.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function qw(){return new Mw(Fw.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jw(){return new Mw(Fw.CANCELED,"User canceled the upload/download.")}function $w(){return new Mw(Fw.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ww(e){return new Mw(Fw.INVALID_ARGUMENT,e)}function Hw(){return new Mw(Fw.APP_DELETED,"The Firebase app was deleted.")}function Vw(e){return new Mw(Fw.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Qw(e,t){return new Mw(Fw.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Kw(e){throw new Mw(Fw.INTERNAL_ERROR,"Internal error: "+e)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Fw||(Fw={}));class Yw{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Yw.makeFromUrl(e,t)}catch(_h){return new Yw(e,"")}if(""===n.path)return n;throw r=e,new Mw(Fw.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===Lw?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Yw(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Mw(Fw.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Gw{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Xw(e){return"string"==typeof e||e instanceof String}function Jw(e){return Zw()&&e instanceof Blob}function Zw(){return"undefined"!=typeof Blob&&!function(){var e;const t=null===(e=_f())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(_h){return!1}}()}function eC(e,t,n,r){if(r<t)throw Ww(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Ww(`Invalid value for '${e}'. Expected ${n} or less.`)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function tC(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function nC(e){const t=encodeURIComponent;let n="?";for(const r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n=n.slice(0,-1),n}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function rC(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Uw||(Uw={}));class iC{constructor(e,t,n,r,i,o,s,a,l,u,c,d=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=c,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new oC(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Uw.NO_ERROR,i=n.getStatus();if(!t||rC(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Uw.ABORT;return void e(!1,new oC(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new oC(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function(e){return void 0!==e}(e)?n():n(e)}catch(_h){r(_h)}else if(null!==i){const e=Bw();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else t.canceled?r(this.appDelete_?Hw():jw()):r(qw())};this.canceled_?t(0,new oC(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let u=!1;function c(...e){u||(u=!0,t.apply(null,e))}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){o&&clearTimeout(o)}function f(e,...t){if(u)return void h();if(e)return h(),void c.call(null,e,...t);if(l()||s)return h(),void c.call(null,e,...t);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),d(n)}let p=!1;function m(e){p||(p=!0,h(),u||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class oC{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function sC(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function aC(...e){const t=sC();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(Zw())return new Blob(e);throw new Mw(Fw.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function lC(e){if("undefined"==typeof atob)throw t="base-64",new Mw(Fw.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const uC={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cC{constructor(e,t){this.data=e,this.contentType=t||null}}function dC(e,t){switch(e){case uC.RAW:return new cC(hC(t));case uC.BASE64:case uC.BASE64URL:return new cC(fC(e,t));case uC.DATA_URL:return new cC(function(e){const t=new pC(e);return t.base64?fC(uC.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(_h){throw Qw(uC.DATA_URL,"Malformed data URL.")}return hC(t)}(t.rest)}(t),new pC(t).contentType)}throw Bw()}function hC(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function fC(e,t){switch(e){case uC.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Qw(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case uC.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r)throw Qw(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=lC(t)}catch(_h){if(_h.message.includes("polyfill"))throw _h;throw Qw(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class pC{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Qw(uC.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;var r,i;
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */null!=n&&(this.base64=(i=";base64",(r=n).length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class mC{constructor(e,t){let n=0,r="";Jw(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Jw(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new mC(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new mC(n,!0)}}static getBlob(...e){if(Zw()){const t=e.map((e=>e instanceof mC?e.data_:e));return new mC(aC.apply(null,t))}{const t=e.map((e=>Xw(e)?dC(uC.RAW,e).data:e.data_));let n=0;t.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return t.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new mC(r,!0)}}uploadData(){return this.data_}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function gC(e){let t;try{t=JSON.parse(e)}catch(_h){return null}return function(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function _C(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function yC(e,t){return t}class vC{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||yC}}let bC=null;function wC(){if(bC)return bC;const e=[];e.push(new vC("bucket")),e.push(new vC("generation")),e.push(new vC("metageneration")),e.push(new vC("name","fullPath",!0));const t=new vC("name");t.xform=function(e,t){return function(e){return!Xw(e)||e.length<2?e:_C(e)}(t)},e.push(t);const n=new vC("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new vC("timeCreated")),e.push(new vC("updated")),e.push(new vC("md5Hash",null,!0)),e.push(new vC("cacheControl",null,!0)),e.push(new vC("contentDisposition",null,!0)),e.push(new vC("contentEncoding",null,!0)),e.push(new vC("contentLanguage",null,!0)),e.push(new vC("contentType",null,!0)),e.push(new vC("metadata","customMetadata",!0)),bC=e,bC}function CC(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Yw(n,r);return t._makeStorageReference(i)}})}(r,e),r}function kC(e,t,n){const r=gC(t);return null===r?null:CC(e,r,n)}function EC(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const TC="prefixes",SC="items";function xC(e,t,n){const r=gC(n);return null===r?null:function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[TC])for(const i of n[TC]){const n=i.replace(/\/$/,""),o=e._makeStorageReference(new Yw(t,n));r.prefixes.push(o)}if(n[SC])for(const i of n[SC]){const n=e._makeStorageReference(new Yw(t,i.name));r.items.push(n)}return r}(e,t,r)}class IC{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function NC(e){if(!e)throw Bw()}function PC(e,t){return function(n,r){const i=kC(e,r,t);return NC(null!==i),i}}function RC(e,t){return function(n,r){const i=kC(e,r,t);return NC(null!==i),function(e,t,n,r){const i=gC(t);if(null===i)return null;if(!Xw(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return tC("/b/"+s(i)+"/o/"+s(o),n,r)+nC({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function OC(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Mw(Fw.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Mw(Fw.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Mw(Fw.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Mw(Fw.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function DC(e){const t=OC(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new Mw(Fw.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function LC(e,t,n){const r=tC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new IC(r,"GET",PC(e,n),i);return o.errorHandler=DC(t),o}function AC(e,t,n,r,i){const o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=tC(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,l=new IC(s,"GET",function(e,t){return function(n,r){const i=xC(e,t,r);return NC(null!==i),i}}(e,t.bucket),a);return l.urlParams=o,l.errorHandler=OC(t),l}function MC(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}class FC{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function UC(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(_h){NC(!1)}return NC(!!n&&-1!==(t||["active"]).indexOf(n)),n}const zC=262144;function BC(e,t,n,r,i,o,s,a){const l=new FC(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new Mw(Fw.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,h=d+c;let f="";f=0===c?"finalize":u===c?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},m=r.slice(d,h);if(null===m)throw $w();const g=t.maxUploadRetryTime,_=new IC(n,"POST",(function(e,n){const i=UC(e,["active","final"]),s=l.current+c,a=r.size();let u;return u="final"===i?PC(t,o)(e,n):null,new FC(s,a,"final"===i,u)}),g);return _.headers=p,_.body=m.uploadData(),_.progressCallback=a||null,_.errorHandler=OC(e),_}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const qC={STATE_CHANGED:"state_changed"},jC={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function $C(e){switch(e){case"running":case"pausing":case"canceling":return jC.RUNNING;case"paused":return jC.PAUSED;case"success":return jC.SUCCESS;case"canceled":return jC.CANCELED;default:return jC.ERROR}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class WC{constructor(e,t,n){const r=function(e){return"function"==typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function HC(e){return(...t)=>{Promise.resolve().then((()=>e(...t)))}}class VC{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Uw.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Uw.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Uw.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Kw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Kw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Kw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(_h){return-1}}getResponse(){if(!this.sent_)throw Kw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Kw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class QC extends VC{initXhr(){this.xhr_.responseType="text"}}function KC(){return new QC}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class YC{constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=wC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(Fw.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(rC(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=qw()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(Fw.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s=MC(t,r,i),a={name:s.fullPath},l=tC(o,e.host,e._protocol),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},c=EC(s,n),d=e.maxUploadRetryTime,h=new IC(l,"POST",(function(e){let t;UC(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(_h){NC(!1)}return NC(Xw(t)),t}),d);return h.urlParams=a,h.headers=u,h.body=c,h.errorHandler=OC(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,KC,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,o=new IC(n,"POST",(function(e){const t=UC(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(_h){NC(!1)}n||NC(!1);const i=Number(n);return NC(!isNaN(i)),new FC(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=OC(t),o}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,KC,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=zC*this._chunkMultiplier,t=new FC(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let o;try{o=BC(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_h){return this._error=_h,void this._transition("error")}const s=this._ref.storage._makeRequest(o,KC,r,i,!1);this._request=s,s.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){zC*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=LC(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,KC,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=MC(t,r,i),u="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+EC(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",c="\r\n--"+a+"--",d=mC.getBlob(u,r,c);if(null===d)throw $w();const h={name:l.fullPath},f=tC(o,e.host,e._protocol),p=e.maxUploadRetryTime,m=new IC(f,"POST",PC(e,n),p);return m.urlParams=h,m.headers=s,m.body=d.uploadData(),m.errorHandler=OC(t),m}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,KC,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=jw(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=$C(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new WC(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch($C(this._state)){case jC.SUCCESS:HC(this._resolve.bind(null,this.snapshot))();break;case jC.CANCELED:case jC.ERROR:HC(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch($C(this._state)){case jC.RUNNING:case jC.PAUSED:e.next&&HC(e.next.bind(e,this.snapshot))();break;case jC.SUCCESS:e.complete&&HC(e.complete.bind(e))();break;default:e.error&&HC(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class GC{constructor(e,t){this._service=e,this._location=t instanceof Yw?t:Yw.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new GC(e,t)}get root(){const e=new Yw(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _C(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Yw(this._location.bucket,e);return new GC(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw Vw(e)}}function XC(e){const t={prefixes:[],items:[]};return JC(e,t).then((()=>t))}async function JC(e,t,n){const r={pageToken:n},i=await ZC(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await JC(e,t,i.nextPageToken)}function ZC(e,t){null!=t&&"number"==typeof t.maxResults&&eC("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=AC(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,KC)}function ek(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=tC(t.fullServerUrl(),e.host,e._protocol),o=EC(n,r),s=e.maxOperationRetryTime,a=new IC(i,"PATCH",PC(e,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=DC(t),a}(e.storage,e._location,t,wC());return e.storage.makeRequestWithTokens(n,KC)}function tk(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=tC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new IC(r,"GET",RC(e,n),i);return o.errorHandler=DC(t),o}(e.storage,e._location,wC());return e.storage.makeRequestWithTokens(t,KC).then((e=>{if(null===e)throw new Mw(Fw.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function nk(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=tC(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new IC(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=DC(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,KC)}function rk(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Yw(e._location.bucket,n);return new GC(e.storage,r)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function ik(e,t){if(e instanceof ak){const n=e;if(null==n._bucket)throw new Mw(Fw.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Aw+"' property when initializing the app?");const r=new GC(n,n._bucket);return null!=t?ik(r,t):r}return void 0!==t?rk(e,t):e}function ok(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof ak)return new GC(e,t);throw Ww("To use ref(service, url), the first argument must be a Storage instance.")}return ik(e,t)}function sk(e,t){const n=null==t?void 0:t[Aw];return null==n?null:Yw.makeFromBucketSpec(n,e)}class ak{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Lw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Yw.makeFromBucketSpec(r,this._host):sk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Yw.makeFromBucketSpec(this._url,e):this._bucket=sk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new GC(this,e)}_makeRequest(e,t,n,r,i=!0){if(this._deleted)return new Gw(Hw());{const o=function(e,t,n,r,i,o,s=!0){const a=nC(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new iC(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const lk="@firebase/storage",uk="0.11.2";function ck(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new YC(e,new mC(t),n)}(e=Wf(e),t,n)}function dk(e){return function(e){e._throwIfRoot("getMetadata");const t=LC(e.storage,e._location,wC());return e.storage.makeRequestWithTokens(t,KC)}(e=Wf(e))}function hk(e,t){return ok(e=Wf(e),t)}function fk(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"==typeof i?i:bf(i,e.app.options.projectId))}(e,t,n,r)}function pk(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new ak(n,r,i,t,Lp)}Pp(new Hf("storage",pk,"PUBLIC").setMultipleInstances(!0)),Fp(lk,uk,""),Fp(lk,uk,"esm2017");
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class mk{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class gk{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new mk(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new mk(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"==typeof t?e=>t(new mk(e,this,this._ref)):{next:t.next?e=>t.next(new mk(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class _k{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new yk(e,this._service)))}get items(){return this._delegate.items.map((e=>new yk(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *  http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class yk{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return rk(e,t)}(this._delegate,e);return new yk(t,this.storage)}get root(){return new yk(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new yk(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new gk(ck(this._delegate,e,t),this)}putString(e,t=uC.RAW,n){this._throwIfRoot("putString");const r=dC(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new gk(new YC(this._delegate,new mC(r.data,!0),i),this)}listAll(){return function(e){return XC(e=Wf(e))}(this._delegate).then((e=>new _k(e,this.storage)))}list(e){return function(e,t){return ZC(e=Wf(e),t)}(this._delegate,e||void 0).then((e=>new _k(e,this.storage)))}getMetadata(){return dk(this._delegate)}updateMetadata(e){return function(e,t){return ek(e=Wf(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return tk(e=Wf(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return nk(e=Wf(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw Vw(e)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class vk{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(bk(e))throw Ww("ref() expected a child path but got a URL, use refFromURL instead.");return new yk(hk(this._delegate,e),this)}refFromURL(e){if(!bk(e))throw Ww("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Yw.makeFromUrl(e,this._delegate.host)}catch(_h){throw Ww("refFromUrl() expected a valid full URL but got an invalid one.")}return new yk(hk(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,n={}){fk(this._delegate,e,t,n)}}function bk(e){return/^[A-Za-z]+:\/\//.test(e)}function wk(e,{instanceIdentifier:t}){const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("storage").getImmediate({identifier:t});return new vk(n,r)}!function(e){const t={TaskState:jC,TaskEvent:qC,StringFormat:uC,Storage:vk,Reference:yk};e.INTERNAL.registerComponent(new Hf("storage-compat",wk,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.2")}(rm),rm.initializeApp({apiKey:"AIzaSyAuw-1nqwUU0tWmIZBtmP2CDdOC3N1Bbkw",authDomain:"app2023a-6a6d4.firebaseapp.com",databaseURL:"https://app2023a-6a6d4-default-rtdb.firebaseio.com",projectId:"app2023a-6a6d4",storageBucket:"app2023a-6a6d4.appspot.com",messagingSenderId:"715579431222",appId:"1:715579431222:web:5a36aa690fd36ab5a6bb97",measurementId:"G-TFRMGZNV3Y"});const Ck=rm.database(),kk=rm.storage();function Ek(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Ek(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Tk(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Ek(e))&&(r&&(r+=" "),r+=t);return r}const Sk=e=>"number"==typeof e&&!isNaN(e),xk=e=>"string"==typeof e,Ik=e=>"function"==typeof e,Nk=e=>xk(e)||Ik(e)?e:null,Pk=e=>z.isValidElement(e)||xk(e)||Ik(e)||Sk(e);function Rk(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:o=300}=e;return function(e){let{children:s,position:a,preventExitTransition:l,done:u,nodeRef:c,isIn:d}=e;const h=r?`${t}--${a}`:t,f=r?`${n}--${a}`:n,p=z.useRef(0);return z.useLayoutEffect((()=>{const e=c.current,t=h.split(" "),n=r=>{r.target===c.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===p.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),z.useEffect((()=>{const e=c.current,t=()=>{e.removeEventListener("animationend",t),i?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame((()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,u,o):u()};d||(l?t():(p.current=1,e.className+=` ${f}`,e.addEventListener("animationend",t)))}),[d]),B.createElement(B.Fragment,null,s)}}function Ok(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Dk={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter((e=>e!==t));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach((t=>{const n=setTimeout((()=>{t(...[].slice.call(arguments,1))}),0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)}))}},Lk=e=>{let{theme:t,type:n,...r}=e;return B.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Ak={info:function(e){return B.createElement(Lk,{...e},B.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return B.createElement(Lk,{...e},B.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return B.createElement(Lk,{...e},B.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return B.createElement(Lk,{...e},B.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return B.createElement("div",{className:"Toastify__spinner"})}};function Mk(e){const[,t]=z.useReducer((e=>e+1),0),[n,r]=z.useState([]),i=z.useRef(null),o=z.useRef(new Map).current,s=e=>-1!==n.indexOf(e),a=z.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:s,getToast:e=>o.get(e)}).current;function l(e){let{containerId:t}=e;const{limit:n}=a.props;!n||t&&a.containerId!==t||(a.count-=a.queue.length,a.queue=[])}function u(e){r((t=>null==e?[]:t.filter((t=>t!==e))))}function c(){const{toastContent:e,toastProps:t,staleId:n}=a.queue.shift();h(e,t,n)}function d(e,n){let{delay:r,staleId:s,...l}=n;if(!Pk(e)||function(e){return!i.current||a.props.enableMultiContainer&&e.containerId!==a.props.containerId||o.has(e.toastId)&&null==e.updateId}(l))return;const{toastId:d,updateId:f,data:p}=l,{props:m}=a,g=()=>u(d),_=null==f;_&&a.count++;const y={...m,style:m.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(l).filter((e=>{let[t,n]=e;return null!=n}))),toastId:d,updateId:f,data:p,closeToast:g,isIn:!1,className:Nk(l.className||m.toastClassName),bodyClassName:Nk(l.bodyClassName||m.bodyClassName),progressClassName:Nk(l.progressClassName||m.progressClassName),autoClose:!l.isLoading&&(v=l.autoClose,b=m.autoClose,!1===v||Sk(v)&&v>0?v:b),deleteToast(){const e=Ok(o.get(d),"removed");o.delete(d),Dk.emit(4,e);const n=a.queue.length;if(a.count=null==d?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),n>0){const e=null==d?a.props.limit:1;if(1===n||1===e)a.displayedToast++,c();else{const t=e>n?n:e;a.displayedToast=t;for(let e=0;e<t;e++)c()}}else t()}};var v,b;y.iconOut=function(e){let{theme:t,type:n,isLoading:r,icon:i}=e,o=null;const s={theme:t,type:n};return!1===i||(Ik(i)?o=i(s):z.isValidElement(i)?o=z.cloneElement(i,s):xk(i)||Sk(i)?o=i:r?o=Ak.spinner():(e=>e in Ak)(n)&&(o=Ak[n](s))),o}(y),Ik(l.onOpen)&&(y.onOpen=l.onOpen),Ik(l.onClose)&&(y.onClose=l.onClose),y.closeButton=m.closeButton,!1===l.closeButton||Pk(l.closeButton)?y.closeButton=l.closeButton:!0===l.closeButton&&(y.closeButton=!Pk(m.closeButton)||m.closeButton);let w=e;z.isValidElement(e)&&!xk(e.type)?w=z.cloneElement(e,{closeToast:g,toastProps:y,data:p}):Ik(e)&&(w=e({closeToast:g,toastProps:y,data:p})),m.limit&&m.limit>0&&a.count>m.limit&&_?a.queue.push({toastContent:w,toastProps:y,staleId:s}):Sk(r)?setTimeout((()=>{h(w,y,s)}),r):h(w,y,s)}function h(e,t,n){const{toastId:i}=t;n&&o.delete(n);const s={content:e,props:t};o.set(i,s),r((e=>[...e,i].filter((e=>e!==n)))),Dk.emit(4,Ok(s,null==s.props.updateId?"added":"updated"))}return z.useEffect((()=>(a.containerId=e.containerId,Dk.cancelEmit(3).on(0,d).on(1,(e=>i.current&&u(e))).on(5,l).emit(2,a),()=>{o.clear(),Dk.emit(3,a)})),[]),z.useEffect((()=>{a.props=e,a.isToastActive=s,a.displayedToast=n.length})),{getToastToRender:function(t){const n=new Map,r=Array.from(o.values());return e.newestOnTop&&r.reverse(),r.forEach((e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},containerRef:i,isToastActive:s}}function Fk(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Uk(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function zk(e){const[t,n]=z.useState(!1),[r,i]=z.useState(!1),o=z.useRef(null),s=z.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=z.useRef(e),{autoClose:l,pauseOnHover:u,closeToast:c,onClick:d,closeOnClick:h}=e;function f(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),s.didMove=!1,document.addEventListener("mousemove",_),document.addEventListener("mouseup",y),document.addEventListener("touchmove",_),document.addEventListener("touchend",y);const n=o.current;s.canCloseOnClick=!0,s.canDrag=!0,s.boundingRect=n.getBoundingClientRect(),n.style.transition="",s.x=Fk(t.nativeEvent),s.y=Uk(t.nativeEvent),"x"===e.draggableDirection?(s.start=s.x,s.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(s.start=s.y,s.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function p(t){if(s.boundingRect){const{top:n,bottom:r,left:i,right:o}=s.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&s.x>=i&&s.x<=o&&s.y>=n&&s.y<=r?g():m()}}function m(){n(!0)}function g(){n(!1)}function _(n){const r=o.current;s.canDrag&&r&&(s.didMove=!0,t&&g(),s.x=Fk(n),s.y=Uk(n),s.delta="x"===e.draggableDirection?s.x-s.start:s.y-s.start,s.start!==s.x&&(s.canCloseOnClick=!1),r.style.transform=`translate${e.draggableDirection}(${s.delta}px)`,r.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function y(){document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",_),document.removeEventListener("touchend",y);const t=o.current;if(s.canDrag&&s.didMove&&t){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return i(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform=`translate${e.draggableDirection}(0)`,t.style.opacity="1"}}z.useEffect((()=>{a.current=e})),z.useEffect((()=>(o.current&&o.current.addEventListener("d",m,{once:!0}),Ik(e.onOpen)&&e.onOpen(z.isValidElement(e.children)&&e.children.props),()=>{const e=a.current;Ik(e.onClose)&&e.onClose(z.isValidElement(e.children)&&e.children.props)})),[]),z.useEffect((()=>(e.pauseOnFocusLoss&&(document.hasFocus()||g(),window.addEventListener("focus",m),window.addEventListener("blur",g)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",g))})),[e.pauseOnFocusLoss]);const v={onMouseDown:f,onTouchStart:f,onMouseUp:p,onTouchEnd:p};return l&&u&&(v.onMouseEnter=g,v.onMouseLeave=m),h&&(v.onClick=e=>{d&&d(e),s.canCloseOnClick&&c()}),{playToast:m,pauseToast:g,isRunning:t,preventExitTransition:r,toastRef:o,eventHandlers:v}}function Bk(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return B.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":r},B.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},B.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function qk(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:o,className:s,style:a,controlledProgress:l,progress:u,rtl:c,isIn:d,theme:h}=e;const f=o||l&&0===u,p={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:f?0:1};l&&(p.transform=`scaleX(${u})`);const m=Tk("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),g=Ik(s)?s({rtl:c,type:i,defaultClassName:m}):Tk(m,s);return B.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:g,style:p,[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{d&&r()}})}const jk=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=zk(e),{closeButton:o,children:s,autoClose:a,onClick:l,type:u,hideProgressBar:c,closeToast:d,transition:h,position:f,className:p,style:m,bodyClassName:g,bodyStyle:_,progressClassName:y,progressStyle:v,updateId:b,role:w,progress:C,rtl:k,toastId:E,deleteToast:T,isIn:S,isLoading:x,iconOut:I,closeOnClick:N,theme:P}=e,R=Tk("Toastify__toast",`Toastify__toast-theme--${P}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":N}),O=Ik(p)?p({rtl:k,position:f,type:u,defaultClassName:R}):Tk(R,p),D=!!C||!a,L={closeToast:d,type:u,theme:P};let A=null;return!1===o||(A=Ik(o)?o(L):z.isValidElement(o)?z.cloneElement(o,L):Bk(L)),B.createElement(h,{isIn:S,done:T,position:f,preventExitTransition:n,nodeRef:r},B.createElement("div",{id:E,onClick:l,className:O,...i,style:m,ref:r},B.createElement("div",{...S&&{role:w},className:Ik(g)?g({type:u}):Tk("Toastify__toast-body",g),style:_},null!=I&&B.createElement("div",{className:Tk("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!x})},I),B.createElement("div",null,s)),A,B.createElement(qk,{...b&&!D?{key:`pb-${b}`}:{},rtl:k,theme:P,delay:a,isRunning:t,isIn:S,closeToast:d,hide:c,type:u,style:v,className:y,controlledProgress:D,progress:C||0})))},$k=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},Wk=Rk($k("bounce",!0));Rk($k("slide",!0)),Rk($k("zoom")),Rk($k("flip"));const Hk=z.forwardRef(((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=Mk(e),{className:o,style:s,rtl:a,containerId:l}=e;function u(e){const t=Tk("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":a});return Ik(o)?o({position:e,rtl:a,defaultClassName:t}):Tk(t,Nk(o))}return z.useEffect((()=>{t&&(t.current=r.current)}),[]),B.createElement("div",{ref:r,className:"Toastify",id:l},n(((e,t)=>{const n=t.length?{...s}:{...s,pointerEvents:"none"};return B.createElement("div",{className:u(e),style:n,key:`container-${e}`},t.map(((e,n)=>{let{content:r,props:o}=e;return B.createElement(jk,{...o,isIn:i(o.toastId),style:{...o.style,"--nth":n+1,"--len":t.length},key:`toast-${o.key}`},r)})))})))}));Hk.displayName="ToastContainer",Hk.defaultProps={position:"top-right",transition:Wk,autoClose:5e3,closeButton:Bk,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Vk,Qk=new Map,Kk=[],Yk=1;function Gk(){return""+Yk++}function Xk(e){return e&&(xk(e.toastId)||Sk(e.toastId))?e.toastId:Gk()}function Jk(e,t){return Qk.size>0?Dk.emit(0,e,t):Kk.push({content:e,options:t}),t.toastId}function Zk(e,t){return{...t,type:t&&t.type||e,toastId:Xk(t)}}function eE(e){return(t,n)=>Jk(t,Zk(e,n))}function tE(e,t){return Jk(e,Zk("default",t))}tE.loading=(e,t)=>Jk(e,Zk("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),tE.promise=function(e,t,n){let r,{pending:i,error:o,success:s}=t;i&&(r=xk(i)?tE.loading(i,n):tE.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,i)=>{if(null==t)return void tE.dismiss(r);const o={type:e,...a,...n,data:i},s=xk(t)?{render:t}:t;return r?tE.update(r,{...o,...s}):tE(s.render,{...o,...s}),i},u=Ik(e)?e():e;return u.then((e=>l("success",s,e))).catch((e=>l("error",o,e))),u},tE.success=eE("success"),tE.info=eE("info"),tE.error=eE("error"),tE.warning=eE("warning"),tE.warn=tE.warning,tE.dark=(e,t)=>Jk(e,Zk("default",{theme:"dark",...t})),tE.dismiss=e=>{Qk.size>0?Dk.emit(1,e):Kk=Kk.filter((t=>null!=e&&t.options.toastId!==e))},tE.clearWaitingQueue=function(e){return void 0===e&&(e={}),Dk.emit(5,e)},tE.isActive=e=>{let t=!1;return Qk.forEach((n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},tE.update=function(e,t){void 0===t&&(t={}),setTimeout((()=>{const n=function(e,t){let{containerId:n}=t;const r=Qk.get(n||Vk);return r&&r.getToast(e)}(e,t);if(n){const{props:r,content:i}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:Gk()};o.toastId!==e&&(o.staleId=e);const s=o.render||i;delete o.render,Jk(s,o)}}),0)},tE.done=e=>{tE.update(e,{progress:1})},tE.onChange=e=>(Dk.on(4,e),()=>{Dk.off(4,e)}),tE.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},tE.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Dk.on(2,(e=>{Vk=e.containerId||e,Qk.set(Vk,e),Kk.forEach((e=>{Dk.emit(0,e.content,e.options)})),Kk=[]})).on(3,(e=>{Qk.delete(e.containerId||e),0===Qk.size&&Dk.off(0).off(1).off(5)}));const nE=()=>{const e=z.useRef(null),[t,n]=z.useState(""),[r,i]=z.useState(""),[o,s]=z.useState(!1);return G("div",{className:"photo-page",children:[Y("div",{className:"camera-container",children:Y("video",{ref:e,className:"camera-preview"})}),G("div",{className:"button-container",children:[Y("button",{className:"button",onClick:async()=>{try{const t=await navigator.mediaDevices.getUserMedia({video:!0});e.current.srcObject=t,e.current.play()}catch(Cm){console.log("Error opening camera:",Cm)}},children:"Abrir cámara"}),Y("button",{className:"button",onClick:async()=>{try{await navigator.geolocation.getCurrentPosition((e=>{n(e.coords.latitude),i(e.coords.longitude),s(!0)}),(e=>{console.log("Error getting location:",e)}))}catch(Cm){console.log("Error getting location:",Cm)}},children:"Mostrar ubicación"}),Y("button",{className:`button ${!o&&"disabled"}`,onClick:async()=>{try{const n=e.current,i=document.createElement("canvas");i.width=n.videoWidth,i.height=n.videoHeight,i.getContext("2d").drawImage(n,0,0,i.width,i.height);const o=i.toDataURL("image/jpeg"),s=kk.ref().child("photos/photo.jpg");await s.putString(o,"data_url");const a={latitude:t,longitude:r};await Ck.ref("photos").push(a),tE.success("Datos enviados con éxito")}catch(Cm){console.log("Error al tomar la foto:",Cm)}},disabled:!o,children:"Guardar Datos"})]}),G("div",{className:"location-container",children:[G("label",{children:["Latitud: ",t]}),G("label",{children:["Longitud: ",r]})]}),Y(Hk,{})]})},rE=()=>Y(Yh,{children:Y(Kh,{exact:!0,path:"/",component:nE})});id(document.getElementById("root")).render(Y(B.StrictMode,{children:Y(rE,{})}))}}}));
